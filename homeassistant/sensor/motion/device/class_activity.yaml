###
# homeassistant/sensor/device/class_activity.yaml
###

- platform: template
  sensors:
    motion_device_class_activity_ago:
      friendly_name: Measurement activity ago
      device_class: 'timestamp'
      unit_of_measurement: 's'
      attribute_templates:
        relative: >-
          {%- set s = state_attr('binary_sensor.motion_device_class_activity','last') -%}
          {% if s|lower != 'none' and s|float(0) > 0 %}
            {{- s|as_datetime|relative_time -}}
          {% else %}none{% endif %}
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_activity','last') -%}
        {% if s|lower != 'none' and s|float(0) > 0 %}
          {{- utcnow().timestamp() - s|float -}}
        {% else %}null{% endif %}
