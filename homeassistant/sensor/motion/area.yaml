###
## homeassistant/sensor/motion/area.yaml
###

- platform: template
  sensors:
    motion_areas:
      unique_id: motion_areas
      friendly_name: 'Motion Area(s)'
      unit_of_measurement: count
      icon_template: >-
        {%- if states('sensor.motion_areas')|int > 0 -%}
          {{- 'mdi:home-map-marker' -}}
        {%- else -%}
          {{- 'mdi:home-search' -}}
        {%- endif -%}
      value_template: >-
        {%- set s = state_attr('group.motion_areas','all') -%}
        {%- if s|lower !='none' and s|lower != 'unavailable' and s|lower != 'unknown' and s|lower != 'null' and s is iterable -%}
          {{ s|count }}
        {%- else -%}null{%- endif -%}
