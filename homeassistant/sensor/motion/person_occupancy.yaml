###
## homeassistant/sensor/motion/person_occupancy.yaml
###

## location occupancy

- platform: template
  sensors:
    motion_person_occupancy_status:
      value_template: >-
        {% if is_state('sensor.motion_person_occupancy','unknown') %}unknown
        {% elif is_state('binary_sensor.motion_person_occupancy','off') %}off
        {% elif is_state('binary_sensor.motion_person_occupancy_expired','on') %}expired
        {% elif is_state('binary_sensor.motion_person_occupancy','on') %}on{% else %}off{% endif %}
    motion_person_occupancy:
      unique_id: motion_person_occupancy
      friendly_name: 'ðŸ‘± occupancy (ðŸƒ)'
      unit_of_measurement: 'ðŸƒ'
      icon_template: >-
        {{- 'mdi:map-marker-circle' -}}
      attribute_templates:
        entity_picture: >-
          {{- '/local/images/motion.png' -}}
      value_template: >-
        {{- 'unknown' -}}
    motion_person_occupancy_previous:
      unique_id: motion_person_occupancy_previous
      friendly_name: 'ðŸ‘± occupancy previous (ðŸƒ)'
      unit_of_measurement: 'ðŸƒ'
      attribute_templates:
        entity_picture: >-
          {{- '/local/images/motion.png' -}}
        velocity: 0.0
        movement: >-
          {{ 'unknown' }}
        interval: >-
          {{ 'unknown' }}
        timestamp: >-
          {{ 'unknown' }}
        latitude: >-
          {{ 'unknown' }}
        longitude: >-
          {{ 'unknown' }}
        confidence: >-
          {{ 'unknown' }}
        distance: >-
          {{ 'unknown' }}
        sensor: >-
          {{ 'unknown' }}
        zone: >-
          {{ 'unknown' }}
      icon_template: >-
        {{- 'mdi:map-marker-circle' -}}
      value_template: >-
        {{ 'unknown' }}

## distance statistics

- platform: statistics
  name: motion_person_occupancy_distance_mean_1h
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: mean
  sampling_size: 30
  max_age:
    hours: 1

- platform: statistics
  name: motion_person_occupancy_distance_mean_2h
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: mean
  sampling_size: 60
  max_age:
    hours: 2

- platform: statistics
  name: motion_person_occupancy_distance_mean_4h
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: mean
  sampling_size: 120
  max_age:
    hours: 4

- platform: statistics
  name: motion_person_occupancy_distance_mean_8h
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: mean
  sampling_size: 240
  max_age:
    hours: 8

- platform: statistics
  name: motion_person_occupancy_distance_mean_12h
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: mean
  sampling_size: 360
  max_age:
    hours: 12 

- platform: statistics
  name: motion_person_occupancy_distance_mean_1d
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: mean
  sampling_size: 720
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_distance_mean_1w
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: mean
  sampling_size: 5040
  max_age:
    days: 7

# distance stdev

- platform: statistics
  name: motion_person_occupancy_distance_stdev_1d
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: standard_deviation
  sampling_size: 720
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_distance_stdev_1w
  entity_id: sensor.motion_person_occupancy_distance_measurement
  state_characteristic: standard_deviation
  sampling_size: 5040
  max_age:
    days: 7

- platform: statistics
  name: motion_person_occupancy_distance_stdev_1d_mean
  entity_id: sensor.motion_person_occupancy_distance_stdev_1d
  state_characteristic: mean
  sampling_size: 100
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_distance_stdev_1w_mean
  entity_id: sensor.motion_person_occupancy_distance_stdev_1w
  state_characteristic: mean
  sampling_size: 1000
  max_age:
    days: 7

## accuracy statistics

- platform: statistics
  name: motion_person_occupancy_accuracy_mean_1h
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: mean
  sampling_size: 30
  max_age:
    hours: 1

- platform: statistics
  name: motion_person_occupancy_accuracy_mean_2h
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: mean
  sampling_size: 60
  max_age:
    hours: 2

- platform: statistics
  name: motion_person_occupancy_accuracy_mean_4h
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: mean
  sampling_size: 120
  max_age:
    hours: 4

- platform: statistics
  name: motion_person_occupancy_accuracy_mean_8h
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: mean
  sampling_size: 240
  max_age:
    hours: 8

- platform: statistics
  name: motion_person_occupancy_accuracy_mean_12h
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: mean
  sampling_size: 360
  max_age:
    hours: 12 

- platform: statistics
  name: motion_person_occupancy_accuracy_mean_1d
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: mean
  sampling_size: 720
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_accuracy_mean_1w
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: mean
  sampling_size: 5040
  max_age:
    days: 7

# accuracy stdev

- platform: statistics
  name: motion_person_occupancy_accuracy_stdev_1d
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: standard_deviation
  sampling_size: 720
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_accuracy_stdev_1w
  entity_id: sensor.motion_person_occupancy_accuracy_measurement
  state_characteristic: standard_deviation
  sampling_size: 5040
  max_age:
    days: 7

- platform: statistics
  name: motion_person_occupancy_accuracy_stdev_1d_mean
  entity_id: sensor.motion_person_occupancy_accuracy_stdev_1d
  state_characteristic: mean
  sampling_size: 100
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_accuracy_stdev_1w_mean
  entity_id: sensor.motion_person_occupancy_accuracy_stdev_1w
  state_characteristic: mean
  sampling_size: 1000
  max_age:
    days: 7

## velocity statistics

- platform: statistics
  name: motion_person_occupancy_velocity_mean_1h
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: mean
  sampling_size: 30
  max_age:
    hours: 1

- platform: statistics
  name: motion_person_occupancy_velocity_mean_2h
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: mean
  sampling_size: 60
  max_age:
    hours: 2

- platform: statistics
  name: motion_person_occupancy_velocity_mean_4h
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: mean
  sampling_size: 120
  max_age:
    hours: 4

- platform: statistics
  name: motion_person_occupancy_velocity_mean_8h
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: mean
  sampling_size: 240
  max_age:
    hours: 8

- platform: statistics
  name: motion_person_occupancy_velocity_mean_12h
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: mean
  sampling_size: 360
  max_age:
    hours: 12 

- platform: statistics
  name: motion_person_occupancy_velocity_mean_1d
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: mean
  sampling_size: 720
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_velocity_mean_1w
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: mean
  sampling_size: 5040
  max_age:
    days: 7

# velocity stdev

- platform: statistics
  name: motion_person_occupancy_velocity_stdev_1d
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: standard_deviation
  sampling_size: 720
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_velocity_stdev_1w
  entity_id: sensor.motion_person_occupancy_velocity_measurement
  state_characteristic: standard_deviation
  sampling_size: 5040
  max_age:
    days: 7

- platform: statistics
  name: motion_person_occupancy_velocity_stdev_1d_mean
  entity_id: sensor.motion_person_occupancy_velocity_stdev_1d
  state_characteristic: mean
  sampling_size: 100
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_velocity_stdev_1w_mean
  entity_id: sensor.motion_person_occupancy_velocity_stdev_1w
  state_characteristic: mean
  sampling_size: 1000
  max_age:
    days: 7

## movement statistics

- platform: statistics
  name: motion_person_occupancy_movement_mean_1h
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: mean
  sampling_size: 30
  max_age:
    hours: 1

- platform: statistics
  name: motion_person_occupancy_movement_mean_2h
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: mean
  sampling_size: 60
  max_age:
    hours: 2

- platform: statistics
  name: motion_person_occupancy_movement_mean_4h
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: mean
  sampling_size: 120
  max_age:
    hours: 4

- platform: statistics
  name: motion_person_occupancy_movement_mean_8h
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: mean
  sampling_size: 240
  max_age:
    hours: 8

- platform: statistics
  name: motion_person_occupancy_movement_mean_12h
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: mean
  sampling_size: 360
  max_age:
    hours: 12 

- platform: statistics
  name: motion_person_occupancy_movement_mean_1d
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: mean
  sampling_size: 720
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_movement_mean_1w
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: mean
  sampling_size: 5040
  max_age:
    days: 7

# movement stdev

- platform: statistics
  name: motion_person_occupancy_movement_stdev_1d
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: standard_deviation
  sampling_size: 720
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_movement_stdev_1w
  entity_id: sensor.motion_person_occupancy_movement_measurement
  state_characteristic: standard_deviation
  sampling_size: 5040
  max_age:
    days: 7

- platform: statistics
  name: motion_person_occupancy_movement_stdev_1d_mean
  entity_id: sensor.motion_person_occupancy_movement_stdev_1d
  state_characteristic: mean
  sampling_size: 100
  max_age:
    days: 1

- platform: statistics
  name: motion_person_occupancy_movement_stdev_1w_mean
  entity_id: sensor.motion_person_occupancy_movement_stdev_1w
  state_characteristic: mean
  sampling_size: 1000
  max_age:
    days: 7
