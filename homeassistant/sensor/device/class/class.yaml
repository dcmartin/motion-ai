###
# sensor/device/class.yaml
###

- platform: template
  sensors:
    motion_device_class_rescan:
      friendly_name: Device scan
      attribute_templates:
        last_triggerd: >-
          {{- state_attr('automation.motion_device_class_rescan','last_triggered') -}}
        relative: >-
          {%- set s = state_attr('automation.motion_device_class_rescan','last_triggered') -%}
          {% if s|lower != 'unknown' and s|lower != 'none' and s|lower != 'unavailable' and s|lower != 'null' %}
            {{ s|relative_time }}
          {% else %}none{% endif %}
      value_template: >-
        {{- is_state('binary_sensor.motion_device_class_rescan','on') -}}

- platform: template
  sensors:
    motion_device_class_missing_approve:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_missing_exist','approve') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Approve' }}
        {%- endif -%}
    motion_device_class_missing_deny:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_missing_exist','deny') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Deny' }}
        {%- endif -%}
    motion_device_class_missing_wait:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_missing_exist','wait') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Wait' }}
        {%- endif -%}
    motion_device_class_missing_help:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_missing_exist','help') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Help' }}
        {%- endif -%}

- platform: template
  sensors:
    motion_device_class_unavailable_approve:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_unavailable_exist','approve') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Approve' }}
        {%- endif -%}
    motion_device_class_unavailable_deny:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_unavailable_exist','deny') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Deny' }}
        {%- endif -%}
    motion_device_class_unavailable_wait:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_unavailable_exist','wait') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Wait' }}
        {%- endif -%}
    motion_device_class_unavailable_help:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_unavailable_exist','help') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Help' }}
        {%- endif -%}

- platform: template
  sensors:
    motion_device_class_activity_approve:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_activity_exist','approve') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Approve' }}
        {%- endif -%}
    motion_device_class_activity_deny:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_activity_exist','deny') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Deny' }}
        {%- endif -%}
    motion_device_class_activity_wait:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_activity_exist','wait') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Wait' }}
        {%- endif -%}
    motion_device_class_activity_help:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_activity_exist','help') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Help' }}
        {%- endif -%}

- platform: template
  sensors:
    motion_device_class_found_approve:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_found_exist','approve') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Approve' }}
        {%- endif -%}
    motion_device_class_found_deny:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_found_exist','deny') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Deny' }}
        {%- endif -%}
    motion_device_class_found_wait:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_found_exist','wait') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Wait' }}
        {%- endif -%}
    motion_device_class_found_help:
      value_template: >-
        {%- set s = state_attr('binary_sensor.motion_device_class_found_exist','help') -%}
        {%- if s|lower != 'none' -%}
          {{ s.title }}
        {%- else -%}
          {{ 'Help' }}
        {%- endif -%}
