###
# homeassistant/template/notification.yaml
###

- unique_id: motion_alarm_measurement
  trigger:
    - platform: state
      entity_id: sensor.motion_alarm_count
  sensor:
    - name: 'motion_alarm_measurement'
      state_class: 'measurement'
      device_class: 'power_factor'
      unit_of_measurement: '%'
      state: >-
        {{ states('sensor.motion_alarm_count')|int(0) }}

- unique_id: motion_alarm_measurement_bad
  trigger:
    - platform: state
      entity_id: binary_sensor.motion_alarm_bad
      to: 'on'
  sensor:
    - name: 'motion_alarm_measurement_bad'
      state_class: 'measurement'
      device_class: 'power_factor'
      unit_of_measurement: '%'
      state: >-
        {{ state_attr('binary_sensor.motion_alarm_bad','count')|int(0) }}

- unique_id: motion_alarm_measurement_good
  trigger:
    - platform: state
      entity_id: binary_sensor.motion_alarm_good
      to: 'on'
  sensor:
    - name: 'motion_alarm_measurement_good'
      state_class: 'measurement'
      device_class: 'power_factor'
      unit_of_measurement: '%'
      state: >-
        {{ state_attr('binary_sensor.motion_alarm_good','count')|int(0) }}

- unique_id: motion_alarm_measurement_high
  trigger:
    - platform: state
      entity_id: binary_sensor.motion_alarm_high
      to: 'on'
  sensor:
    - name: 'motion_alarm_measurement_high'
      state_class: 'measurement'
      device_class: 'power_factor'
      unit_of_measurement: '%'
      state: >-
        {{ state_attr('binary_sensor.motion_alarm_high','count')|int(0) }}

- unique_id: motion_alarm_measurement_low
  trigger:
    - platform: state
      entity_id: binary_sensor.motion_alarm_low
      to: 'on'
  sensor:
    - name: 'motion_alarm_measurement_low'
      state_class: 'measurement'
      device_class: 'power_factor'
      unit_of_measurement: '%'
      state: >-
        {{ state_attr('binary_sensor.motion_alarm_low','count')|int(0) }}

- unique_id: motion_alarm_measurement_unavailable
  trigger:
    - platform: state
      entity_id: binary_sensor.motion_alarm_unavailable
      to: 'on'
  sensor:
    - name: 'motion_alarm_measurement_unavailable'
      state_class: 'measurement'
      device_class: 'power_factor'
      unit_of_measurement: '%'
      state: >-
        {{ state_attr('binary_sensor.motion_alarm_unavailable','count')|int(0) }}

- unique_id: motion_alarm_measurement_missing
  trigger:
    - platform: state
      entity_id: binary_sensor.motion_alarm_missing
      to: 'on'
  sensor:
    - name: 'motion_alarm_measurement_missing'
      state_class: 'measurement'
      device_class: 'power_factor'
      unit_of_measurement: '%'
      state: >-
        {{ state_attr('binary_sensor.motion_alarm_missing','count')|int(0) }}

- unique_id: motion_alarm_measurement_activity
  trigger:
    - platform: state
      entity_id: binary_sensor.motion_alarm_activity
      to: 'on'
  sensor:
    - name: 'motion_alarm_measurement_activity'
      state_class: 'measurement'
      device_class: 'power_factor'
      unit_of_measurement: '%'
      state: >-
        {{ state_attr('binary_sensor.motion_alarm_activity','count')|int(0) }}
