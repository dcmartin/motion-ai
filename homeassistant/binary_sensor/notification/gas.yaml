###
# homeassistant/binary_sensor/notification/gas.yaml
###

- platform: template
  sensors:
    motion_notification_gas_good:
      friendly_name: Not detected: gas
      attribute_templates:
        responses: >-
          {{ state_attr('binary_sensor.motion_device_gas_good','responses') }}
        actions: >-
          {{ state_attr('binary_sensor.motion_device_gas_good','actions') }}
        message: >-
          {#- notification -#}
          Your home gas alarm has cleared.
        last: >-
          {{ 'unknown' }}
        details: >-
          {{ 'unknown' }}
      value_template: >-
        {{ 'unknown' }}
    motion_notification_gas_bad:
      friendly_name: Detected: gas
      attribute_templates:
        responses: >-
          {{ state_attr('binary_sensor.motion_device_gas_bad','responses') }}
        actions: >-
          {{ state_attr('binary_sensor.motion_device_gas_bad','actions') }}
        message: >-
          {#- primary -#}
          {%- set primary = state_attr('sensor.motion_role_primary','friendly_name')|replace("'","") -%}
          {#- notification -#}
          Your home gas alarm was triggered. We have notified {{ primary }} about your gas alarm. If you are fine handling this situation on your own, press "I'm OKAY"
        last: >-
          {{ 'unknown' }}
        details: >-
          {{ 'unknown' }}
      value_template: >-
        {{ 'unknown' }}
