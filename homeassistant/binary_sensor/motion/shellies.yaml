###
# binary_sensor/motion/shelly.yaml
###

- platform: template
  sensors:
    motion_shellies_publish_announce:
      value_template: >-
        {{ is_state('input_boolean.motion_shellies_publish_announce','on') }}
    motion_shellies_publish_update:
      value_template: >-
        {{ is_state('input_boolean.motion_shellies_publish_update','on') }}
    motion_shellies_scan:
      value_template: >-
        {{ is_state('input_boolean.motion_shellies_scan','on') }}
    motion_shellies_offline:
      unique_id: motion_shellies_offline
      value_template: >-
        {{ false }}

## ALL Shelly sensors

- platform: template
  sensors:
    motion_shellies:
      unique_id: motion_shellies_all
      friendly_name: All Shelly(s)
      icon_template: >-
        {% if is_state('binary_sensor.motion_shellies','on') %}
          {{- 'mdi:check-circle-outline' -}}
        {% else %}
          {{- 'mdi:close-circle-outline' -}}
        {% endif %}
      value_template: >-
        {{- false -}}

## TYPES of Shelly sensors

- platform: template
  sensors:
    motion_shellies_light:
      unique_id: motion_shellies_light_all
      friendly_name: Light
      device_class: 'light'
      icon_template: >-
        {% if is_state('binary_sensor.motion_shellies_light','on') %}
          {{- 'mdi:lightbulb-on-outline' -}}
        {% else %}
          {{- 'mdi:lightbulb' -}}
        {% endif %}
      value_template: >-
        {{- false -}}
    motion_shellies_light_outage:
      value_template: >-
        {{ false }}

- platform: template
  sensors:
    motion_shellies_moisture:
      unique_id: motion_shellies_moisture_all
      friendly_name: Moisture
      device_class: 'moisture'
      icon_template: >-
        {% if is_state('binary_sensor.motion_shellies_moisture','on') %}
          {{- 'mdi:water-alert' -}}
        {% else %}
          {{- 'mdi:water-outline' -}}
        {% endif %}
      value_template: >-
        {{- false -}}

- platform: template
  sensors:
    motion_shellies_gas:
      unique_id: motion_shellies_gas_all
      friendly_name: Moisture
      #device_class: 'gas'
      icon_template: >-
        {% if is_state('binary_sensor.motion_shellies_gas','on') %}
          {{- 'mdi:propane-tank' -}}
        {% else %}
          {{- 'mdi:propane-tank-outline' -}}
        {% endif %}
      value_template: >-
        {{- false -}}

- platform: template
  sensors:
    motion_shellies_button:
      unique_id: motion_shellies_button_all
      friendly_name: Moisture
      #device_class: 'button'
      icon_template: >-
        {% if is_state('binary_sensor.motion_shellies_button','on') %}
          {{- 'mdi:radiobox-marked' -}}
        {% else %}
          {{- 'mdi:radiobox-blank' -}}
        {% endif %}
      value_template: >-
        {{- false -}}

- platform: template
  sensors:
    motion_shellies_thermometer:
      unique_id: motion_shellies_thermometer_all
      friendly_name: Moisture
      #device_class: 'thermometer'
      icon_template: >-
        {% if is_state('binary_sensor.motion_shellies_thermometer','on') %}
          {{- 'mdi:thermometer-alert' -}}
        {% else %}
          {{- 'mdi:thermometer' -}}
        {% endif %}
      value_template: >-
        {{- false -}}

- platform: template
  sensors:
    motion_shellies_door:
      unique_id: motion_shellies_door_all
      friendly_name: Moisture
      #device_class: 'door'
      icon_template: >-
        {% if is_state('binary_sensor.motion_shellies_door','on') %}
          {{- 'mdi:door-open' -}}
        {% else %}
          {{- 'mdi:door-closed' -}}
        {% endif %}
      value_template: >-
        {{- false -}}

- platform: template
  sensors:
    motion_shellies_plug:
      unique_id: motion_shellies_plug_all
      friendly_name: Power-plug
      #device_class: 'plug'
      icon_template: >-
        {% if is_state('binary_sensor.motion_shellies_plug','on') %}
          {{- 'mdi:power-plug' -}}
        {% else %}
          {{- 'mdi:power-plug-outline' -}}
        {% endif %}
      value_template: >-
        {{- false -}}
