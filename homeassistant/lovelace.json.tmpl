{
  "version": 1,
  "minor_version": 1,
  "key": "lovelace",
  "data": {
    "config": {
      "title": "${MOTION_APP} at ${MOTION_SITE}",
      "views": [
        {
          "path": "default_view",
          "title": "Home",
          "type": "sidebar",
          "cards": [
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "sidebar"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person_zone",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "sensor.motion_person_zone",
                      "state_not": "none"
                    },
                    {
                      "entity": "sensor.motion_person_zone",
                      "state_not": "null"
                    },
                    {
                      "entity": "binary_sensor.motion_person_home",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "show_icon": true,
                    "show_name": true,
                    "entities": [
                      {
                        "name": "Relative",
                        "entity": "sensor.motion_person_zone",
                        "type": "attribute",
                        "attribute": "status"
                      },
                      {
                        "name": "Location",
                        "entity": "sensor.motion_person_device_geocoded_location"
                      },
                      {
                        "name": "Device",
                        "entity": "sensor.motion_person_device"
                      },
                      {
                        "name": "Ago",
                        "icon": "mdi:cellphone",
                        "entity": "sensor.motion_person_device_ago"
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_exterior_temperature_measurement",
                      "state_not": "unknown"
                    }
                  ],
                  "card": {
                    "type": "glance",
                    "show_icon": true,
                    "show_name": true,
                    "entities": [
                      {
                        "name": "Home",
                        "entity": "binary_sensor.motion_person_home"
                      },
                      {
                        "name": "Date",
                        "entity": "sensor.motion_date"
                      },
                      {
                        "name": "Time",
                        "entity": "sensor.motion_time"
                      },
                      {
                        "name": "Active",
                        "icon": "mdi:account-question",
                        "entity": "binary_sensor.motion_person_active"
                      },
                      {
                        "name": "Temperature",
                        "entity": "sensor.motion_exterior_temperature_measurement"
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_exterior_temperature_measurement",
                      "state": "unknown"
                    }
                  ],
                  "card": {
                    "type": "glance",
                    "show_icon": true,
                    "show_name": true,
                    "entities": [
                      {
                        "name": "Home",
                        "entity": "binary_sensor.motion_person_home"
                      },
                      {
                        "name": "Date",
                        "entity": "sensor.motion_date"
                      },
                      {
                        "name": "Time",
                        "entity": "sensor.motion_time"
                      },
                      {
                        "name": "Active",
                        "icon": "mdi:account-question",
                        "entity": "binary_sensor.motion_person_active"
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.weather_forecasted",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "weather-forecast",
                    "entity": "weather.forecast"
                  }
                }
              ]
            },
            {
              "type": "vertical-stack",
              "title": "",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_restarting",
                      "state": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "System restarting",
                    "entity_id": "binary_sensor.motion_restarting",
                    "content": "{{ state_attr(\"binary_sensor.motion_restarting\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "System rebooting",
                    "entity_id": "binary_sensor.motion_rebooting",
                    "content": "{{ state_attr(\"binary_sensor.motion_rebooting\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_alarm",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "title": "",
                        "show_header_toggle": false,
                        "type": "entities",
                        "entities": [
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_bad",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_bad",
                              "secondary_info": "last-updated",
                              "name": "Detected (bad)",
                              "icon": "mdi:thumb-down",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_bad_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_good",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_good",
                              "secondary_info": "last-updated",
                              "name": "Detected (good)",
                              "icon": "mdi:thumb-up",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_good_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_high",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_high",
                              "secondary_info": "last-updated",
                              "name": "Above limit",
                              "icon": "mdi:speedometer",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_high_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_low",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_low",
                              "secondary_info": "last-updated",
                              "name": "Below limit",
                              "icon": "mdi:speedometer-slow",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_low_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_missing",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_missing",
                              "secondary_info": "last-updated",
                              "name": "Missing device(s)",
                              "icon": "mdi:alert-minus-outline",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_missing_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_unavailable",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_unavailable",
                              "secondary_info": "last-updated",
                              "name": "Unavailable device(s)",
                              "icon": "mdi:alert-minus",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_unavailable_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_found",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_found",
                              "secondary_info": "last-updated",
                              "name": "Found device(s)",
                              "icon": "mdi:devices",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_found_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_activity",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_activity",
                              "secondary_info": "last-updated",
                              "name": "Device(s) w/ activity",
                              "icon": "mdi:motion-sensor",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_activity_notify"
                                }
                              }
                            }
                          }
                        ]
                      },
                      {
                        "type": "markdown",
                        "title": "",
                        "entity_id": "sensor.motion_alarm_count",
                        "content": "{{ state_attr(\"sensor.motion_alarm_count\",\"markdown\") }}"
                      },
                      {
                        "type": "button",
                        "name": "Dismiss alarm",
                        "icon": "mdi:bell-sleep",
                        "icon_height": "32px",
                        "tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.motion_alarm_notification_dismiss"
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_alarm",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Alarms",
                    "entities": [
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_unavailable",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_unavailable",
                          "name": "Unavailable",
                          "icon": "mdi:alert-minus",
                          "type": "attribute",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_unavailable_notify"
                            }
                          },
                          "hold_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_rescan_all"
                            },
                            "confirmation": {
                              "text": "Do you want to rescan all?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_missing",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_missing",
                          "name": "Missing",
                          "icon": "mdi:alert-minus-outline",
                          "type": "attribute",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_missing_notify"
                            }
                          },
                          "hold_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_rescan_all"
                            },
                            "confirmation": {
                              "text": "Do you want to rescan all?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_gas_bad",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_gas_bad",
                          "name": "Detected",
                          "icon": "mdi:gas-burner",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_gas_bad_notify"
                            }
                          },
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_moisture_bad",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_moisture_bad",
                          "name": "Detected",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_moisture_bad_notify"
                            }
                          },
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_battery_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_battery_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "icon": "mdi:battery-20",
                          "type": "attribute",
                          "attribute": "details",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_battery_low_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_illuminance_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_illuminance_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_illuminance_low_notify"
                            }
                          },
                          "icon": "mdi:brightness-5",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_illuminance_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_illuminance_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_illuminance_high_notify"
                            }
                          },
                          "icon": "mdi:brightness-7",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_temperature_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_temperature_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_temperature_low_notify"
                            }
                          },
                          "icon": "mdi:thermometer-low",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_temperature_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_temperature_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_temperature_high_notify"
                            }
                          },
                          "icon": "mdi:thermometer-high",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_humidity_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_humidity_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_humidity_low_notify"
                            }
                          },
                          "icon": "mdi:water-minus",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_humidity_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_humidity_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_humidity_high_notify"
                            }
                          },
                          "icon": "mdi:water-plus",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  }
}
