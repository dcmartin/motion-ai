{
  "version": 1,
  "minor_version": 1,
  "key": "lovelace",
  "data": {
    "config": {
      "title": "${MOTION_APP} at ${MOTION_SITE}",
      "views": [
        {
          "path": "default_view",
          "title": "Home",
          "type": "sidebar",
          "cards": [
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "main"
              },
              "title": "",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_restarting",
                      "state": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "",
                    "entity_id": "binary_sensor.motion_restarting",
                    "content": "{{ state_attr(\"binary_sensor.motion_restarting\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "",
                    "entity_id": "binary_sensor.motion_rebooting",
                    "content": "{{ state_attr(\"binary_sensor.motion_rebooting\",\"markdown\") }}"
                  }
                }
              ]
            },
            {
              "type": "custom:mushroom-template-card",
              "primary": "Hello, {{ user -}}",
              "secondary": "{%- set n = state_attr('sensor.motion_person','name') -%}{%- set l = state_attr('sensor.motion_person','location') -%}{%- if n|lower != 'null' and l|lower != 'none' -%}{%- if n|lower == user|lower %}You are{% else %}{{ n }} is{% endif %} at {{ l -}}{%- elif n|lower == 'null' or n|lower == 'none' %}No owner (yet){% else %}{{ n -}}'s location pending{% endif -%}. {{ state_attr('sensor.motion_person','summary') }} {{ state_attr('sensor.motion_primary','summary') }} {{ state_attr('sensor.motion_app','summary') }} {{ state_attr('sensor.weather_home','summary') }}",
              "icon": "{{ state_attr('sensor.motion_app','icon') }}",
              "picture": "{{ state_attr('sensor.motion_app','entity_picture') }}",
              "entity": "sensor.motion_app",
              "fill_container": false,
              "multiline_secondary": true,
              "layout": "horizontal",
              "tap_action": {
                "action": "navigate",
                "navigation_path": "/lovelace/details"
              },
              "hold_action": {
                "action": "navigate",
                "navigation_path": "/lovelace-owner/setup"
              },
              "double_tap_action": {
                "action": "none"
              },
              "badge_icon": "{{ state_attr('binary_sensor.motion_alarm','icon') }}",
              "badge_color": "blue",
              "view_layout": {
                "position": "sidebar"
              }
            },
            {
              "type": "conditional",
              "view_layout": {
                "position": "sidebar"
              },
              "conditions": [
                {
                  "entity": "binary_sensor.motion_device_class",
                  "state_not": "unknown"
                },
                {
                  "entity": "binary_sensor.motion_alarm",
                  "state": "on"
                }
              ],
              "card": {
                "type": "vertical-stack",
                "cards": [
                  {
                    "type": "markdown",
                    "title": "",
                    "entity_id": "sensor.motion_alarm_count",
                    "content": "{{ state_attr(\"sensor.motion_alarm_count\",\"markdown\") }}"
                  },
                  {
                    "type": "button",
                    "name": "Dismiss alarm",
                    "icon": "mdi:bell-sleep",
                    "icon_height": "32px",
                    "tap_action": {
                      "action": "call-service",
                      "service": "automation.trigger",
                      "service_data": {
                        "entity_id": "automation.motion_alarm_notification_dismiss"
                      }
                    }
                  }
                ]
              }
            },
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "main"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.weather_forecasted",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "weather-forecast",
                    "entity": "weather.forecast",
                    "tap_action": {
                      "action": "navigate",
                      "navigation_path": "/lovelace-owner/climate"
                    }
                  }
                }
              ]
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "sensor.motion_log_level",
                  "state": "debug"
                }
              ],
              "card": {
                "square": false,
                "columns": 1,
                "type": "grid",
                "cards": [
                  {
                    "type": "entities",
                    "title": "Activity",
                    "show_header_toggle": false,
                    "entities": [
                      {
                        "entity": "binary_sensor.motion_person_activity",
                        "name": "Person activity",
                        "secondary_info": "last-updated"
                      },
                      {
                        "entity": "binary_sensor.motion_person_activity",
                        "name": "When",
                        "type": "attribute",
                        "attribute": "when",
                        "secondary_info": "last-updated"
                      },
                      {
                        "entity": "binary_sensor.motion_person_activity",
                        "name": "Where",
                        "type": "attribute",
                        "attribute": "where",
                        "secondary_info": "last-updated"
                      },
                      {
                        "entity": "binary_sensor.motion_person_occupancy",
                        "name": "Person occupancy",
                        "secondary_info": "last-updated"
                      },
                      {
                        "entity": "binary_sensor.motion_person_smartphone",
                        "name": "Person smartphone",
                        "secondary_info": "last-updated"
                      },
                      {
                        "entity": "binary_sensor.motion_person_detected",
                        "name": "Person detected",
                        "secondary_info": "last-updated"
                      }
                    ]
                  },
                  {
                    "type": "conditional",
                    "conditions": [
                      {
                        "entity": "sensor.motion_person_occupancy_status",
                        "state_not": "unknown"
                      }
                    ],
                    "card": {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "Occupancy",
                      "entities": [
                        {
                          "entity": "binary_sensor.motion_person_occupancy",
                          "name": "Person occupancy",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_occupancy",
                          "name": "When",
                          "type": "attribute",
                          "attribute": "when",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_occupancy_status",
                          "name": "Occupancy status",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_occupancy_bayes",
                          "name": "Inference",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_occupancy_bayes",
                          "name": "Probability threshold",
                          "type": "attribute",
                          "attribute": "probability_threshold",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_occupancy_probability_measurement",
                          "name": "Probability measurement",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_occupancy_ratio_on",
                          "name": "On",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_occupancy_ratio_off",
                          "name": "Off",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_occupancy_ratio_expired",
                          "name": "Expired",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_occupancy_ratio_unknown",
                          "name": "Unknown",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_occupancy_status",
                          "name": "Person occupancy evidence",
                          "type": "attribute",
                          "attribute": "evidence",
                          "secondary_info": "last-updated"
                        }
                      ]
                    }
                  },
                  {
                    "type": "conditional",
                    "conditions": [
                      {
                        "entity": "sensor.motion_person_smartphone_status",
                        "state_not": "unknown"
                      }
                    ],
                    "card": {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "Smartphone",
                      "entities": [
                        {
                          "entity": "binary_sensor.motion_person_smartphone",
                          "name": "Person smartphone",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_smartphone",
                          "name": "When",
                          "type": "attribute",
                          "attribute": "when",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_smartphone_status",
                          "name": "Smartphone status",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_smartphone_bayes",
                          "name": "Inference",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_smartphone_bayes",
                          "name": "Probability threshold",
                          "type": "attribute",
                          "attribute": "probability_threshold",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_smartphone_probability_measurement",
                          "name": "Probability measurement",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_smartphone_ratio_on",
                          "name": "On",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_smartphone_ratio_off",
                          "name": "Off",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_smartphone_ratio_expired",
                          "name": "Expired",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_smartphone_ratio_unknown",
                          "name": "Unknown",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_smartphone_status",
                          "name": "Person smartphone evidence",
                          "type": "attribute",
                          "attribute": "evidence",
                          "secondary_info": "last-updated"
                        }
                      ]
                    }
                  },
                  {
                    "type": "conditional",
                    "conditions": [
                      {
                        "entity": "sensor.motion_person_detected_status",
                        "state_not": "unknown"
                      }
                    ],
                    "card": {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "Detected",
                      "entities": [
                        {
                          "entity": "binary_sensor.motion_person_detected",
                          "name": "Person detected",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_detected",
                          "name": "When",
                          "type": "attribute",
                          "attribute": "when",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_detected_status",
                          "name": "Detected status",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_detected_bayes",
                          "name": "Inference",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_person_detected_bayes",
                          "name": "Probability threshold",
                          "type": "attribute",
                          "attribute": "probability_threshold",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_detected_probability_measurement",
                          "name": "Probability measurement",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_detected_ratio_on",
                          "name": "On",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_detected_ratio_off",
                          "name": "Off",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_detected_ratio_expired",
                          "name": "Expired",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_detected_ratio_unknown",
                          "name": "Unknown",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "sensor.motion_person_detected_status",
                          "name": "Person detected evidence",
                          "type": "attribute",
                          "attribute": "evidence",
                          "secondary_info": "last-updated"
                        }
                      ]
                    }
                  },
                  {
                    "type": "conditional",
                    "conditions": [
                      {
                        "entity": "group.motion_device_class_activity",
                        "state_not": "unknown"
                      },
                      {
                        "entity": "group.motion_device_class_activity",
                        "state_not": "none"
                      }
                    ],
                    "card": {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "Activity device(s)",
                      "entities": [
                        {
                          "entity": "binary_sensor.motion_device_class_activity",
                          "name": "All device(s) activity",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_device_class_activity",
                          "name": "When",
                          "type": "attribute",
                          "attribute": "when",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_device_class_activity",
                          "name": "Active devices",
                          "type": "attribute",
                          "attribute": "ids",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_device_class_activity",
                          "name": "Active areas",
                          "type": "attribute",
                          "attribute": "areas",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "binary_sensor.motion_device_class_activity_detect",
                          "name": "Activity detected",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "group.motion_device_class_activity",
                          "name": "Activity group",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "group.motion_device_class_activity",
                          "name": "Activity sensors",
                          "type": "attribute",
                          "attribute": "entity_id",
                          "secondary_info": "last-updated"
                        }
                      ]
                    }
                  },
                  {
                    "type": "conditional",
                    "conditions": [
                      {
                        "entity": "group.motion_device_motion",
                        "state_not": "unknown"
                      },
                      {
                        "entity": "group.motion_device_motion",
                        "state_not": "none"
                      }
                    ],
                    "card": {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "Motion device(s)",
                      "entities": [
                        {
                          "entity": "binary_sensor.motion_device_motion_activity",
                          "name": "Motion activity",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "group.motion_device_motion",
                          "name": "Motion group",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "group.motion_device_motion",
                          "name": "Motion sensors",
                          "type": "attribute",
                          "attribute": "entity_id",
                          "secondary_info": "last-updated"
                        }
                      ]
                    }
                  },
                  {
                    "type": "conditional",
                    "conditions": [
                      {
                        "entity": "group.motion_device_occupancy",
                        "state_not": "unknown"
                      },
                      {
                        "entity": "group.motion_device_occupancy",
                        "state_not": "none"
                      }
                    ],
                    "card": {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "Occupancy device(s)",
                      "entities": [
                        {
                          "entity": "binary_sensor.motion_device_occupancy_activity",
                          "name": "Occupancy activity",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "group.motion_device_occupancy",
                          "name": "Occupancy group",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "group.motion_device_occupancy",
                          "name": "Occupancy sensors",
                          "type": "attribute",
                          "attribute": "entity_id",
                          "secondary_info": "last-updated"
                        }
                      ]
                    }
                  },
                  {
                    "type": "conditional",
                    "conditions": [
                      {
                        "entity": "group.motion_device_presence",
                        "state_not": "unknown"
                      },
                      {
                        "entity": "group.motion_device_presence",
                        "state_not": "none"
                      }
                    ],
                    "card": {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "Presence device(s)",
                      "entities": [
                        {
                          "entity": "binary_sensor.motion_device_presence_activity",
                          "name": "Presence activity",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "group.motion_device_presence",
                          "name": "Presence group",
                          "secondary_info": "last-updated"
                        },
                        {
                          "entity": "group.motion_device_presence",
                          "name": "Presence sensors",
                          "type": "attribute",
                          "attribute": "entity_id",
                          "secondary_info": "last-updated"
                        }
                      ]
                    }
                  }
                ],
                "view_layout": {
                  "position": "main"
                }
              }
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "title": "DETAILS",
          "path": "details",
          "type": "sidebar",
          "icon": "mdi:account-details",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "title": "",
              "view_layout": {
                "position": "sidebar"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_log_level",
                      "state": "debug"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "",
                    "show_header_toggle": false,
                    "entities": [
                      {
                        "name": "Restart",
                        "entity": "input_boolean.motion_restart_requested",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_boolean.toggle",
                          "target": {
                            "entity_id": "input_boolean.motion_restart_requested"
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.motion_restart_requested",
                            "state_not": "off"
                          }
                        ],
                        "row": {
                          "name": "Restart (automation)",
                          "entity": "automation.motion_notification_restart",
                          "type": "attribute",
                          "attribute": "current",
                          "secondary_info": "last-updated"
                        }
                      },
                      {
                        "name": "Missing",
                        "entity": "input_boolean.motion_notification_missing_requested",
                        "icon": "mdi:home-minus",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_boolean.toggle",
                          "target": {
                            "entity_id": "input_boolean.motion_notification_missing_requested"
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.motion_notification_missing_requested",
                            "state_not": "off"
                          }
                        ],
                        "row": {
                          "name": "Missing (automation)",
                          "entity": "automation.motion_notification_missing",
                          "type": "attribute",
                          "attribute": "current",
                          "secondary_info": "last-updated"
                        }
                      },
                      {
                        "name": "Unavailable",
                        "entity": "input_boolean.motion_notification_unavailable_requested",
                        "icon": "mdi:home-minus-outline",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_boolean.toggle",
                          "target": {
                            "entity_id": "input_boolean.motion_notification_unavailable_requested"
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.motion_notification_unavailable_requested",
                            "state_not": "off"
                          }
                        ],
                        "row": {
                          "name": "Unavailable (automation)",
                          "entity": "automation.motion_notification_unavailable",
                          "type": "attribute",
                          "attribute": "current",
                          "secondary_info": "last-updated"
                        }
                      },
                      {
                        "name": "Complete",
                        "entity": "input_boolean.motion_notification_complete_requested",
                        "icon": "mdi:home-outline",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_boolean.toggle",
                          "target": {
                            "entity_id": "input_boolean.motion_notification_complete_requested"
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.motion_notification_complete_requested",
                            "state_not": "off"
                          }
                        ],
                        "row": {
                          "name": "Complete (automation)",
                          "entity": "automation.motion_notification_complete",
                          "type": "attribute",
                          "attribute": "current",
                          "secondary_info": "last-updated"
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "entities",
                      "entities": [
                        {
                          "name": "Hub",
                          "entity": "sensor.motion_name",
                          "type": "attribute",
                          "attribute": "site",
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/lovelace-owner/hub"
                          }
                        },
                        {
                          "name": "Started",
                          "entity": "sensor.motion_uptime",
                          "icon": "mdi:clock-outline",
                          "suffix": "ago",
                          "type": "attribute",
                          "attribute": "relative",
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/notify-system/reload"
                          }
                        },
                        {
                          "type": "section",
                          "label": "Owner"
                        },
                        {
                          "name": "Name",
                          "type": "attribute",
                          "attribute": "name",
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/lovelace-owner/setup"
                          },
                          "entity": "sensor.motion_person"
                        },
                        {
                          "name": "Account",
                          "icon": "mdi:account",
                          "entity": "sensor.motion_person"
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "sensor.motion_person_device",
                              "state_not": "none"
                            }
                          ],
                          "row": {
                            "name": "Smartphone",
                            "entity": "sensor.motion_person_device",
                            "type": "attribute",
                            "attribute": "name"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_person_home",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "name": "Location",
                            "entity": "binary_sensor.motion_person_home",
                            "icon": "mdi:home-map-marker",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/notify-system/location/"
                            }
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_person_home",
                              "state_not": "on"
                            }
                          ],
                          "row": {
                            "name": "Location",
                            "entity": "sensor.motion_person_device_geocoded_location",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/notify-system/location/"
                            },
                            "secondary_info": "last-updated"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_person_home",
                              "state_not": "on"
                            }
                          ],
                          "row": {
                            "name": "Distance from home",
                            "entity": "sensor.motion_person_device",
                            "type": "attribute",
                            "attribute": "distance",
                            "icon": "mdi:counter",
                            "suffix": "m"
                          }
                        },
                        {
                          "name": "Activity",
                          "entity": "binary_sensor.motion_person_activity",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/lovelace-owner/activity"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "sensor.motion_primary",
                              "state": "none"
                            }
                          ],
                          "row": {
                            "type": "section",
                            "label": "No primary"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "sensor.motion_primary",
                              "state_not": "none"
                            },
                            {
                              "entity": "sensor.motion_primary",
                              "state_not": "unknown"
                            }
                          ],
                          "row": {
                            "name": "Primary",
                            "type": "attribute",
                            "attribute": "name",
                            "entity": "sensor.motion_primary"
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "sidebar"
              },
              "title": "",
              "cards": [
                {
                  "type": "entities",
                  "title": "",
                  "show_header_toggle": false,
                  "entities": [
                    {
                      "name": "Device status",
                      "entity": "binary_sensor.motion_device_class",
                      "icon": "mdi:home-search-outline",
                      "secondary_info": "last-updated",
                      "tap_action": {
                        "action": "navigate",
                        "navigation_path": "/notify-devices"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state_not": "on"
                        }
                      ],
                      "row": {
                        "entity": "binary_sensor.motion_device_class",
                        "name": "Missing",
                        "icon": "mdi:cancel",
                        "type": "attribute",
                        "attribute": "missing",
                        "tap_action": "none"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state_not": "on"
                        }
                      ],
                      "row": {
                        "entity": "binary_sensor.motion_device_class",
                        "name": "Found",
                        "icon": "mdi:cancel",
                        "type": "attribute",
                        "attribute": "found",
                        "tap_action": "none"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state_not": "on"
                        }
                      ],
                      "row": {
                        "entity": "binary_sensor.motion_device_class",
                        "name": "Enabled",
                        "icon": "mdi:cancel",
                        "type": "attribute",
                        "attribute": "automations",
                        "tap_action": "none"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "sidebar"
              },
              "cards": [
                {
                  "type": "entities",
                  "entities": [
                    {
                      "name": "People at home",
                      "secondary_info": "last-updated",
                      "entity": "zone.home",
                      "tap_action": {
                        "action": "navigate",
                        "navigation_path": "/config/person"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_home_undefined",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "name": "Home zone unknown",
                        "secondary_info": "last-updated",
                        "entity": "binary_sensor.motion_home_undefined",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/notify-system/location"
                        }
                      }
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "view_layout": {
                    "position": "sidebar"
                  },
                  "title": "",
                  "cards": [
                    {
                      "show_header_toggle": false,
                      "title": "",
                      "type": "entities",
                      "entities": [
                        {
                          "name": "Internet status",
                          "entity": "sensor.internet_good",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/notify-system/internet"
                          },
                          "hold_action": {
                            "action": "call-service",
                            "service": "homeassistant.update_entity",
                            "target": {
                              "entity_id": "sensor.internet_test"
                            },
                            "confirmation": {
                              "text": "Update Internet test?",
                              "exemptions": null
                            }
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "conditional",
              "view_layout": {
                "position": "sidebar"
              },
              "conditions": [
                {
                  "entity": "binary_sensor.motion_alarm",
                  "state_not": "unknown"
                }
              ],
              "card": {
                "type": "vertical-stack",
                "title": "",
                "cards": [
                  {
                    "type": "entities",
                    "title": "",
                    "show_header_toggle": false,
                    "entities": [
                      {
                        "entity": "binary_sensor.motion_alarm_exist",
                        "name": "Out-standing Alarm(s)"
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_bad",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_bad",
                          "secondary_info": "last-updated",
                          "name": "Detected (bad)",
                          "icon": "mdi:thumb-down",
                          "type": "attribute",
                          "attribute": "count",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_bad_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_good",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_good",
                          "secondary_info": "last-updated",
                          "name": "Detected (good)",
                          "icon": "mdi:thumb-up",
                          "type": "attribute",
                          "attribute": "count",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_good_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_high",
                          "secondary_info": "last-updated",
                          "name": "Above limit",
                          "icon": "mdi:speedometer",
                          "type": "attribute",
                          "attribute": "count",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_high_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_low",
                          "secondary_info": "last-updated",
                          "name": "Below limit",
                          "icon": "mdi:speedometer-slow",
                          "type": "attribute",
                          "attribute": "count",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_low_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_missing",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_missing",
                          "secondary_info": "last-updated",
                          "name": "Missing device(s)",
                          "icon": "mdi:alert-minus-outline",
                          "type": "attribute",
                          "attribute": "count",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_missing_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_unavailable",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_unavailable",
                          "secondary_info": "last-updated",
                          "name": "Unavailable device(s)",
                          "icon": "mdi:alert-minus",
                          "type": "attribute",
                          "attribute": "count",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_unavailable_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_found",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_found",
                          "secondary_info": "last-updated",
                          "name": "Found device(s)",
                          "icon": "mdi:devices",
                          "type": "attribute",
                          "attribute": "count",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_found_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_activity",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_activity",
                          "secondary_info": "last-updated",
                          "name": "Device(s) w/ activity",
                          "icon": "mdi:motion-sensor",
                          "type": "attribute",
                          "attribute": "count",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_activity_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_unavailable",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_unavailable",
                          "name": "Unavailable",
                          "icon": "mdi:alert-minus",
                          "type": "attribute",
                          "attribute": "categorys",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_unavailable_notify"
                            }
                          },
                          "hold_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_rescan_all"
                            },
                            "confirmation": {
                              "text": "Do you want to rescan all?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_missing",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_missing",
                          "name": "Missing",
                          "icon": "mdi:alert-minus-outline",
                          "type": "attribute",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_missing_notify"
                            }
                          },
                          "hold_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_rescan_all"
                            },
                            "confirmation": {
                              "text": "Do you want to rescan all?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_activity",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_activity",
                          "name": "Activity",
                          "icon": "mdi:motion-sensor",
                          "type": "attribute",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_activity_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_gas_bad",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_gas_bad",
                          "name": "Detected",
                          "icon": "mdi:gas-burner",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_gas_bad_notify"
                            }
                          },
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_moisture_bad",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_moisture_bad",
                          "name": "Detected",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_moisture_bad_notify"
                            }
                          },
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_battery_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_battery_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "icon": "mdi:battery-20",
                          "type": "attribute",
                          "attribute": "details",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_battery_low_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_illuminance_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_illuminance_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_illuminance_low_notify"
                            }
                          },
                          "icon": "mdi:brightness-5",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_illuminance_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_illuminance_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_illuminance_high_notify"
                            }
                          },
                          "icon": "mdi:brightness-7",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_temperature_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_temperature_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_temperature_low_notify"
                            }
                          },
                          "icon": "mdi:thermometer-low",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_temperature_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_temperature_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_temperature_high_notify"
                            }
                          },
                          "icon": "mdi:thermometer-high",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_humidity_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_humidity_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_humidity_low_notify"
                            }
                          },
                          "icon": "mdi:water-minus",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_humidity_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_humidity_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_humidity_high_notify"
                            }
                          },
                          "icon": "mdi:water-plus",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_activity",
                            "state_not": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_activity",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_activity_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_unavailable",
                            "state_not": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_unavailable",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_unavailable_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_missing",
                            "state_not": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_missing",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_missing_notify"
                            }
                          }
                        }
                      },
                      {
                        "name": "Unacknowledged alarm count",
                        "entity": "binary_sensor.motion_alarm",
                        "icon": "mdi:message-text",
                        "type": "attribute",
                        "secondary_info": "last-updated",
                        "attribute": "count"
                      },
                      {
                        "name": "Total alarm count",
                        "entity": "binary_sensor.motion_alarm",
                        "icon": "mdi:message-badge",
                        "type": "attribute",
                        "secondary_info": "last-updated",
                        "attribute": "total"
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_exist",
                            "state": "unknown"
                          }
                        ],
                        "row": {
                          "name": "Last alarm (pending)",
                          "entity": "binary_sensor.motion_alarm_exist",
                          "icon": "mdi:message-question",
                          "type": "attribute",
                          "secondary_info": "last-updated",
                          "attribute": "when"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_exist",
                            "state_not": "unknown"
                          }
                        ],
                        "row": {
                          "name": "Last alarm",
                          "entity": "binary_sensor.motion_alarm_exist",
                          "icon": "mdi:message-text-clock",
                          "type": "attribute",
                          "secondary_info": "last-updated",
                          "attribute": "when"
                        }
                      }
                    ]
                  }
                ]
              }
            },
            {
              "type": "vertical-stack",
              "title": "",
              "view_layout": {
                "position": "main"
              },
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_person",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "markdown",
                        "title": "",
                        "entity_id": "binary_sensor.motion_person_device",
                        "content": "{{ state_attr(\"binary_sensor.motion_person_device\",\"markdown\") }}"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "custom:mushroom-template-card",
              "primary": "Setup is {{ state_attr('binary_sensor.motion_device_class','summary') }}",
              "secondary": "{{ state_attr('binary_sensor.motion_devices_update','summary') }}",
              "icon": "{{ state_attr('sensor.motion_app','icon') }}",
              "picture": "{{ state_attr('sensor.motion_app','entity_picture') }}",
              "entity": "sensor.motion_app",
              "fill_container": false,
              "multiline_secondary": true,
              "layout": "horizontal",
              "tap_action": {
                "action": "navigate",
                "navigation_path": "/notify-devices"
              },
              "hold_action": {
                "action": "navigate",
                "navigation_path": "/lovelace-owner/setup"
              },
              "double_tap_action": {
                "action": "none"
              },
              "badge_icon": "{{ state_attr('binary_sensor.motion_alarm','icon') }}",
              "badge_color": "blue",
              "view_layout": {
                "position": "main"
              }
            },
            {
              "type": "vertical-stack",
              "title": "",
              "view_layout": {
                "position": "main"
              },
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_primary",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "markdown",
                        "title": "",
                        "entity_id": "binary_sensor.motion_primary_device",
                        "content": "{{ state_attr(\"binary_sensor.motion_primary_device\",\"markdown\") }}"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "chart_type": "line",
              "period": "hour",
              "days_to_show": 7,
              "type": "statistics-graph",
              "entities": [
                {
                  "name": "Alarms",
                  "entity": "sensor.motion_alarm_measurement"
                }
              ],
              "stat_types": [
                "mean",
                "min",
                "max"
              ],
              "view_layout": {
                "position": "sidebar"
              }
            },
            {
              "type": "conditional",
              "view_layout": {
                "position": "sidebar"
              },
              "conditions": [
                {
                  "entity": "binary_sensor.motion_alarm_notification",
                  "state": "on"
                }
              ],
              "card": {
                "type": "vertical-stack",
                "cards": [
                  {
                    "title": "",
                    "show_header_toggle": false,
                    "type": "entities",
                    "entities": [
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_notification_critical",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_notification_critical",
                          "secondary_info": "last-updated",
                          "name": "Critical notifications",
                          "icon": "mdi:alarm-light",
                          "type": "attribute",
                          "attribute": "count"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_notification_alert",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_notification_alert",
                          "secondary_info": "last-updated",
                          "name": "Alerts",
                          "icon": "mdi:alert",
                          "type": "attribute",
                          "attribute": "count"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_notification_notice",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_notification_notice",
                          "secondary_info": "last-updated",
                          "name": "Notices",
                          "icon": "mdi:alert-box",
                          "type": "attribute",
                          "attribute": "count"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_alarm_notification_info",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_alarm_notification_info",
                          "secondary_info": "last-updated",
                          "name": "Informational",
                          "icon": "mdi:comment-alert",
                          "type": "attribute",
                          "attribute": "count"
                        }
                      }
                    ]
                  },
                  {
                    "type": "markdown",
                    "title": "",
                    "entity_id": "sensor.motion_alarm_notification_count",
                    "content": "{{ state_attr(\"sensor.motion_alarm_notification_count\",\"message\") }}"
                  }
                ]
              }
            },
            {
              "type": "horizontal-stack",
              "view_layout": {
                "position": "main"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person_presence",
                      "state": "home"
                    },
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state": "home"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "map",
                    "entities": [
                      {
                        "entity": "sensor.motion_person"
                      },
                      {
                        "entity": "sensor.motion_primary"
                      }
                    ],
                    "hours_to_show": 2,
                    "aspect_ratio": "16x9",
                    "auto_fit": true,
                    "default_zoom": 19
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person_presence",
                      "state_not": "home"
                    },
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state_not": "home"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "map",
                    "entities": [
                      {
                        "entity": "sensor.motion_person"
                      }
                    ],
                    "hours_to_show": 2,
                    "aspect_ratio": "16x9",
                    "auto_fit": true,
                    "default_zoom": 20
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state_not": "home"
                    },
                    {
                      "entity": "sensor.motion_person_presence",
                      "state": "home"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "none"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "unavailable"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "unknown"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "map",
                    "entities": [
                      {
                        "entity": "sensor.motion_person"
                      }
                    ],
                    "hours_to_show": 2,
                    "aspect_ratio": "16x9",
                    "auto_fit": true,
                    "default_zoom": 18
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state_not": "none"
                    },
                    {
                      "entity": "sensor.motion_primary_device",
                      "state_not": "none"
                    },
                    {
                      "entity": "sensor.motion_primary_device",
                      "state_not": "unavailable"
                    },
                    {
                      "entity": "sensor.motion_primary_device",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state_not": "home"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "map",
                    "entities": [
                      {
                        "entity": "sensor.motion_primary"
                      }
                    ],
                    "hours_to_show": 2,
                    "aspect_ratio": "16x9",
                    "auto_fit": true,
                    "default_zoom": 20
                  }
                }
              ]
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "type": "panel",
          "subview": true,
          "title": "HISTORY",
          "path": "history",
          "icon": "mdi:history",
          "badges": [],
          "cards": [
            {
              "type": "custom:history-explorer-card",
              "graphs": [
                {
                  "type": "line",
                  "entities": [
                    {
                      "entity": "sensor.motion_device_energy"
                    },
                    {
                      "entity": "sensor.motion_device_current"
                    },
                    {
                      "entity": "sensor.motion_device_power"
                    }
                  ]
                },
                {
                  "type": "line",
                  "entities": [
                    {
                      "entity": "sensor.motion_device_temperature",
                      "name": "Inside"
                    },
                    {
                      "entity": "sensor.weather_temperature",
                      "name": "Outside"
                    }
                  ]
                },
                {
                  "type": "line",
                  "entities": [
                    {
                      "entity": "sensor.motion_person_occupancy_ago",
                      "name": "Occupancy"
                    },
                    {
                      "entity": "sensor.motion_person_detected_ago",
                      "name": "Detected"
                    },
                    {
                      "entity": "sensor.motion_person_smartphone_ago",
                      "name": "Smartphone"
                    },
                    {
                      "entity": "sensor.motion_person_active_ago",
                      "name": "Active"
                    }
                  ]
                },
                {
                  "type": "timeline",
                  "title": "Activity",
                  "entities": [
                    {
                      "entity": "binary_sensor.motion_person_active",
                      "stateTextMode": "auto",
                      "name": "Active"
                    },
                    {
                      "entity": "binary_sensor.motion_device_class_activity",
                      "stateTextMode": "auto",
                      "name": "Devices"
                    },
                    {
                      "entity": "binary_sensor.motion_person_home",
                      "stateTextMode": "auto",
                      "name": "Home"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  }
}
