{
  "version": 1,
  "minor_version": 1,
  "key": "lovelace",
  "data": {
    "config": {
      "title": "${MOTION_APP} at ${MOTION_SITE}",
      "views": [
        {
          "path": "default_view",
          "title": "Home",
          "type": "sidebar",
          "cards": [
            {
              "type": "horizontal-stack",
              "view_layout": {
                "position": "sidebar"
              },
              "cards": [
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "button",
                      "name": " ",
                      "entity": "binary_sensor.motion_alarm",
                      "show_state": false,
                      "icon": "mdi:message",
                      "icon_height": "32px",
                      "tap_action": {
                        "action": "navigate",
                        "navigation_path": "/lovelace-primary/"
                      }
                    },
                    {
                      "type": "button",
                      "name": " ",
                      "icon": "mdi:account-supervisor",
                      "icon_height": "32px",
                      "tap_action": {
                        "action": "navigate",
                        "navigation_path": "/lovelace-owner/"
                      }
                    },
                    {
                      "type": "button",
                      "name": " ",
                      "icon": "mdi:devices",
                      "icon_height": "32px",
                      "tap_action": {
                        "action": "navigate",
                        "navigation_path": "/notify-devices/"
                      }
                    },
                    {
                      "type": "button",
                      "name": " ",
                      "icon": "mdi:home-heart",
                      "icon_height": "32px",
                      "tap_action": {
                        "action": "navigate",
                        "navigation_path": "/notify-system/"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "custom:mushroom-template-card",
              "primary": "Hello, {{ user -}}",
              "secondary": "{%- set n = state_attr('sensor.motion_person','name') -%}{%- set l = state_attr('sensor.motion_person','location') -%}{%- if n|lower != 'null' and l|lower != 'none' -%}{%- if n|lower == user|lower %}You are{% else %}{{ n }} is{% endif %} at {{ l -}}{%- elif n|lower == 'null' or n|lower == 'none' %}No owner (yet){% else %}{{ n -}}'s location pending{% endif -%}. {{ state_attr('sensor.motion_person','summary') }} {{ state_attr('sensor.motion_primary','summary') }} {{ state_attr('sensor.motion_app','summary') }} {{ state_attr('sensor.weather_home','summary') }}",
              "icon": "{{ state_attr('sensor.motion_app','icon') }}",
              "picture": "{{ state_attr('sensor.motion_app','entity_picture') }}",
              "entity": "sensor.motion_app",
              "fill_container": false,
              "multiline_secondary": true,
              "layout": "horizontal",
              "tap_action": {
                "action": "navigate",
                "navigation_path": "/lovelace/details"
              },
              "hold_action": {
                "action": "navigate",
                "navigation_path": "/lovelace/setup"
              },
              "double_tap_action": {
                "action": "none"
              },
              "badge_icon": "{{ state_attr('binary_sensor.motion_alarm','icon') }}",
              "badge_color": "blue",
              "view_layout": {
                "position": "sidebar"
              }
            },
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "main"
              },
              "title": "",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_restarting",
                      "state": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "",
                    "entity_id": "binary_sensor.motion_restarting",
                    "content": "{{ state_attr(\"binary_sensor.motion_restarting\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "",
                    "entity_id": "binary_sensor.motion_rebooting",
                    "content": "{{ state_attr(\"binary_sensor.motion_rebooting\",\"markdown\") }}"
                  }
                }
              ]
            },
            {
              "type": "conditional",
              "view_layout": {
                "position": "sidebar"
              },
              "conditions": [
                {
                  "entity": "input_select.motion_log_level",
                  "state_not": "notice"
                },
                {
                  "entity": "input_select.motion_log_level",
                  "state_not": "alert"
                },
                {
                  "entity": "input_select.motion_log_level",
                  "state_not": "critical"
                },
                {
                  "entity": "binary_sensor.motion_device_class_status",
                  "state": "on"
                },
                {
                  "entity": "binary_sensor.motion_alarm",
                  "state": "on"
                }
              ],
              "card": {
                "type": "vertical-stack",
                "cards": [
                  {
                    "type": "markdown",
                    "title": "",
                    "entity_id": "sensor.motion_alarm_count",
                    "content": "{{ state_attr(\"sensor.motion_alarm_count\",\"markdown\") }}"
                  },
                  {
                    "type": "button",
                    "name": "Dismiss alarm",
                    "icon": "mdi:bell-sleep",
                    "icon_height": "32px",
                    "tap_action": {
                      "action": "call-service",
                      "service": "automation.trigger",
                      "service_data": {
                        "entity_id": "automation.motion_alarm_notification_dismiss"
                      }
                    }
                  }
                ]
              }
            },
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "main"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.weather_forecasted",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "weather-forecast",
                    "entity": "weather.forecast",
                    "tap_action": {
                      "action": "navigate",
                      "navigation_path": "/lovelace-owner/climate"
                    }
                  }
                }
              ]
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "title": "DETAILS",
          "path": "details",
          "icon": "mdi:account-details",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "horizontal-stack",
              "view_layout": {
                "position": "main"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person_presence",
                      "state": "home"
                    },
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state": "home"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "map",
                    "auto_fit": true,
                    "entities": [
                      {
                        "entity": "sensor.motion_person"
                      },
                      {
                        "entity": "sensor.motion_primary"
                      }
                    ],
                    "hours_to_show": 24,
                    "default_zoom": 19
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person_presence",
                      "state_not": "home"
                    },
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state_not": "home"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "map",
                    "auto_fit": true,
                    "entities": [
                      {
                        "entity": "sensor.motion_person"
                      }
                    ],
                    "hours_to_show": 24,
                    "default_zoom": 19
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state_not": "home"
                    },
                    {
                      "entity": "sensor.motion_person_presence",
                      "state": "home"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "none"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "unavailable"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "unknown"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "map",
                    "auto_fit": true,
                    "entities": [
                      {
                        "entity": "sensor.motion_person"
                      }
                    ],
                    "hours_to_show": 24,
                    "default_zoom": 18
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_primary_presence",
                      "state_not": "home"
                    },
                    {
                      "entity": "sensor.motion_primary_device",
                      "state_not": "none"
                    },
                    {
                      "entity": "sensor.motion_primary_device",
                      "state_not": "unavailable"
                    },
                    {
                      "entity": "sensor.motion_primary_device",
                      "state_not": "unknown"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "map",
                    "auto_fit": true,
                    "entities": [
                      {
                        "entity": "sensor.motion_primary"
                      }
                    ],
                    "hours_to_show": 24,
                    "default_zoom": 18
                  }
                }
              ]
            },
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "sidebar"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_person_home",
                      "state_not": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_person_home",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "alert"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "critical"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "show_header_toggle": false,
                    "state_color": true,
                    "entities": [
                      {
                        "name": "Who",
                        "type": "attribute",
                        "attribute": "name",
                        "entity": "sensor.motion_person",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace-owner/"
                        }
                      },
                      {
                        "name": "Location",
                        "entity": "sensor.motion_person",
                        "type": "attribute",
                        "attribute": "location",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/notify-system/location/"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "sensor.motion_person_presence",
                            "state_not": "home"
                          },
                          {
                            "entity": "sensor.motion_person_presence",
                            "state_not": "none"
                          },
                          {
                            "entity": "sensor.motion_person_presence",
                            "state_not": "none"
                          },
                          {
                            "entity": "sensor.motion_person_presence",
                            "state_not": "null"
                          }
                        ],
                        "row": {
                          "name": "Distance from home",
                          "entity": "sensor.motion_person_device",
                          "type": "attribute",
                          "attribute": "distance",
                          "icon": "mdi:counter",
                          "suffix": "m",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/notify-system/location/"
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "sensor.motion_person_zone",
                            "state_not": "unknown"
                          },
                          {
                            "entity": "sensor.motion_person_zone",
                            "state_not": "none"
                          },
                          {
                            "entity": "sensor.motion_person_zone",
                            "state_not": "null"
                          }
                        ],
                        "row": {
                          "name": "Relative",
                          "entity": "sensor.motion_person_zone",
                          "type": "attribute",
                          "attribute": "status"
                        }
                      },
                      {
                        "name": "Device",
                        "entity": "sensor.motion_person_device",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/notify-system/settings/"
                        }
                      },
                      {
                        "name": "Last updated",
                        "icon": "mdi:clock-minus",
                        "entity": "sensor.motion_person_device_ago",
                        "type": "attribute",
                        "attribute": "relative"
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_person_home",
                      "state": "on"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "notice"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "alert"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "critical"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "show_header_toggle": false,
                    "state_color": true,
                    "entities": [
                      {
                        "name": "Who",
                        "type": "attribute",
                        "attribute": "name",
                        "entity": "sensor.motion_person",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/notify-system/settings"
                        }
                      },
                      {
                        "name": "Home",
                        "entity": "binary_sensor.motion_person_home",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/notify-system/location"
                        }
                      },
                      {
                        "name": "Hub",
                        "entity": "sensor.motion_name",
                        "type": "attribute",
                        "attribute": "site",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/notify-system/"
                        }
                      },
                      {
                        "name": "Activity",
                        "entity": "binary_sensor.motion_person_activity",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/lovelace-owner/activity"
                        }
                      },
                      {
                        "name": "Started",
                        "entity": "sensor.motion_uptime",
                        "icon": "mdi:clock-outline",
                        "suffix": "ago",
                        "type": "attribute",
                        "attribute": "relative",
                        "tap_action": {
                          "action": "navigate",
                          "navigation_path": "/notify-system/reload"
                        }
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        {
          "theme": "Backend-selected",
          "title": "SETUP",
          "path": "setup",
          "icon": "mdi:cog-outline",
          "type": "sidebar",
          "subview": true,
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "sidebar"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_device_class_status",
                      "state_not": "none"
                    }
                  ],
                  "card": {
                    "title": "",
                    "type": "markdown",
                    "entity_id": "binary_sensor.motion_device_class_status",
                    "content": "{{ state_attr(\"binary_sensor.motion_device_class_status\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_device_class_status",
                      "state_not": "on"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "info"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "notice"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "alert"
                    },
                    {
                      "entity": "input_select.motion_log_level",
                      "state_not": "critical"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "",
                    "show_header_toggle": false,
                    "state_color": true,
                    "entities": [
                      {
                        "name": "Device integrations complete",
                        "entity": "binary_sensor.motion_device_class_status",
                        "icon": "mdi:home-search-outline",
                        "secondary_info": "last-updated",
                        "tap_action": {
                          "action": "call-service",
                          "service": "homeassistant.update_entity",
                          "service_data": {
                            "entity_id": "binary_sensor.motion_device_class_status"
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_status",
                            "state_not": "unknown"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_status",
                          "name": "Missing",
                          "icon": "mdi:cancel",
                          "type": "attribute",
                          "attribute": "missing",
                          "tap_action": {
                            "action": "navigate",
                            "navigation_path": "/notify-missing"
                          }
                        }
                      }
                    ]
                  }
                }
              ]
            },
            {
              "show_header_toggle": false,
              "title": "Location",
              "type": "entities",
              "entities": [
                {
                  "name": "Distance from home",
                  "entity": "sensor.motion_person_device",
                  "type": "attribute",
                  "attribute": "distance",
                  "icon": "mdi:counter",
                  "suffix": "m",
                  "secondary_info": "last-updated"
                },
                {
                  "type": "section",
                  "label": "Home zone (üè†)"
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "zone.home",
                      "state_not": "unknown"
                    }
                  ],
                  "row": {
                    "name": "Latitude",
                    "entity": "sensor.zone_home_latitude"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "zone.home",
                      "state_not": "unknown"
                    }
                  ],
                  "row": {
                    "name": "Longitude",
                    "entity": "sensor.zone_home_longitude"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "zone.home",
                      "state_not": "unknown"
                    }
                  ],
                  "row": {
                    "name": "Radius",
                    "entity": "sensor.zone_home_radius"
                  }
                },
                {
                  "type": "section",
                  "label": "Smartphone (üì±)"
                },
                {
                  "name": "Device",
                  "entity": "binary_sensor.motion_person_device",
                  "secondary_info": "last-updated",
                  "icon": "mdi:cellphone",
                  "type": "attribute",
                  "attribute": "tracker",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/notify-system/settings"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state": "on"
                    }
                  ],
                  "row": {
                    "name": "Latitude",
                    "entity": "binary_sensor.motion_person_device",
                    "icon": "mdi:latitude",
                    "type": "attribute",
                    "attribute": "latitude"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state": "on"
                    }
                  ],
                  "row": {
                    "name": "Longitude",
                    "entity": "binary_sensor.motion_person_device",
                    "icon": "mdi:longitude",
                    "type": "attribute",
                    "attribute": "longitude"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_person_device_exist",
                      "state": "on"
                    }
                  ],
                  "row": {
                    "name": "Geocoded",
                    "entity": "binary_sensor.motion_person_device_exist",
                    "icon": "mdi:map-marker",
                    "type": "attribute",
                    "attribute": "location"
                  }
                },
                {
                  "type": "section",
                  "label": "What3Words (üåê)"
                },
                {
                  "name": "Service",
                  "secondary_info": "last-updated",
                  "entity": "binary_sensor.what3words_location",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.what3words_location_update"
                    },
                    "confirmation": {
                      "text": "Refresh What3Words location?",
                      "exemptions": null
                    }
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state": "on"
                    }
                  ],
                  "row": {
                    "name": "Words",
                    "entity": "binary_sensor.what3words_location",
                    "type": "attribute",
                    "icon": "mdi:text-short",
                    "attribute": "words"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state": "on"
                    }
                  ],
                  "row": {
                    "name": "API key",
                    "entity": "binary_sensor.what3words_location",
                    "icon": "mdi:key",
                    "type": "attribute",
                    "attribute": "apikey"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state": "off"
                    }
                  ],
                  "row": {
                    "type": "section",
                    "label": "Service (üåê) configuration"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state": "off"
                    }
                  ],
                  "row": {
                    "name": "Words",
                    "icon": "mdi:text-short",
                    "entity": "input_text.what3words_location"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state": "off"
                    }
                  ],
                  "row": {
                    "name": "API key",
                    "icon": "mdi:key",
                    "entity": "input_text.what3words_apikey"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state": "off"
                    }
                  ],
                  "row": {
                    "name": "Error",
                    "entity": "binary_sensor.what3words_location",
                    "icon": "mdi:alert-circle",
                    "secondary_info": "last-updated",
                    "type": "attribute",
                    "attribute": "error"
                  }
                }
              ],
              "view_layout": {
                "position": "sidebar"
              }
            },
            {
              "type": "horizontal-stack",
              "view_layout": {
                "position": "sidebar"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state": "on"
                    },
                    {
                      "entity": "automation.motion_location_sync_device",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "button",
                    "name": "Sync (üì±)",
                    "icon": "mdi:sync",
                    "icon_height": "32px",
                    "tap_action": {
                      "action": "call-service",
                      "service": "automation.trigger",
                      "target": {
                        "entity_id": "automation.motion_location_sync_device"
                      }
                    },
                    "confirmation": {
                      "text": "Synchronize Home zone from smartphone location?",
                      "exemptions": null
                    }
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state": "on"
                    },
                    {
                      "entity": "automation.motion_location_sync_w3w",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "button",
                    "name": "Sync (üåê)",
                    "icon": "mdi:web-sync",
                    "icon_height": "32px",
                    "tap_action": {
                      "action": "call-service",
                      "service": "automation.trigger",
                      "target": {
                        "entity_id": "automation.motion_location_sync_w3w"
                      }
                    },
                    "confirmation": {
                      "text": "Synchronize Home zone from What3Words location?",
                      "exemptions": null
                    }
                  }
                },
                {
                  "type": "button",
                  "name": "Edit (üè†)",
                  "show_state": false,
                  "entity": "zone.home",
                  "icon": "mdi:home-map-marker",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "navigate",
                    "navigation_path": "/config/zone/home?edit=1"
                  }
                }
              ]
            },
            {
              "type": "horizontal-stack",
              "title": "",
              "view_layout": {
                "position": "main"
              },
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "",
                      "entities": [
                        {
                          "name": "Person",
                          "entity": "sensor.motion_person",
                          "type": "attribute",
                          "attribute": "name",
                          "tap_action": {
                            "action": "call-service",
                            "service": "input_boolean.toggle",
                            "service_data": {
                              "entity_id": "input_boolean.motion_lovelace_support_person_detail"
                            }
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "sensor.motion_person",
                              "state_not": "none"
                            },
                            {
                              "entity": "binary_sensor.motion_person_device_tracker",
                              "state": "on"
                            },
                            {
                              "entity": "input_boolean.motion_lovelace_support_person_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "entity": "binary_sensor.motion_person_device",
                            "name": "Person device's tracker",
                            "type": "attribute",
                            "attribute": "tracker",
                            "icon": "mdi:satellite",
                            "secondary_info": "last-updated"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "input_boolean.motion_lovelace_support_person_detail",
                              "state": "on"
                            },
                            {
                              "entity": "input_select.motion_log_level",
                              "state_not": "off"
                            }
                          ],
                          "row": {
                            "name": "Specify",
                            "entity": "input_text.motion_person"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_person_configure",
                              "state": "on"
                            },
                            {
                              "entity": "input_boolean.motion_lovelace_support_person_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "name": "Select",
                            "entity": "input_select.motion_person"
                          }
                        },
                        {
                          "name": "Person's device",
                          "entity": "sensor.motion_person_device",
                          "tap_action": {
                            "action": "call-service",
                            "service": "input_boolean.toggle",
                            "service_data": {
                              "entity_id": "input_boolean.motion_lovelace_support_person_device_detail"
                            }
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_person_device_tracker",
                              "state": "on"
                            },
                            {
                              "entity": "input_boolean.motion_lovelace_support_person_device_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "entity": "binary_sensor.motion_person_device_tracker",
                            "name": "Tracker",
                            "icon": "mdi:satellite",
                            "type": "attribute",
                            "attribute": "detail",
                            "secondary_info": "last-updated"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "input_boolean.motion_lovelace_support_person_device_detail",
                              "state": "on"
                            },
                            {
                              "entity": "input_select.motion_log_level",
                              "state_not": "critical"
                            },
                            {
                              "entity": "input_select.motion_log_level",
                              "state_not": "alert"
                            },
                            {
                              "entity": "input_select.motion_log_level",
                              "state_not": "notice"
                            },
                            {
                              "entity": "input_select.motion_log_level",
                              "state_not": "info"
                            },
                            {
                              "entity": "input_select.motion_log_level",
                              "state_not": "off"
                            }
                          ],
                          "row": {
                            "name": "Specify",
                            "entity": "input_text.motion_person_device"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_person_configure",
                              "state": "on"
                            },
                            {
                              "entity": "input_boolean.motion_lovelace_support_person_device_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "name": "Select",
                            "entity": "input_select.motion_person_device"
                          }
                        }
                      ]
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_person",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "markdown",
                        "title": "",
                        "entity_id": "binary_sensor.motion_person_device",
                        "content": "{{ state_attr(\"binary_sensor.motion_person_device\",\"markdown\") }}"
                      }
                    }
                  ]
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "entities",
                      "show_header_toggle": false,
                      "title": "",
                      "entities": [
                        {
                          "name": "Primary",
                          "entity": "sensor.motion_primary",
                          "type": "attribute",
                          "attribute": "name",
                          "tap_action": {
                            "action": "call-service",
                            "service": "input_boolean.toggle",
                            "service_data": {
                              "entity_id": "input_boolean.motion_lovelace_support_primary_detail"
                            }
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "sensor.motion_primary",
                              "state_not": "none"
                            },
                            {
                              "entity": "binary_sensor.motion_primary_device_tracker",
                              "state": "on"
                            },
                            {
                              "entity": "input_boolean.motion_lovelace_support_primary_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "entity": "binary_sensor.motion_primary_device",
                            "name": "Primary device's tracker",
                            "type": "attribute",
                            "attribute": "tracker",
                            "icon": "mdi:satellite",
                            "secondary_info": "last-updated"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "input_boolean.motion_lovelace_support_primary_detail",
                              "state": "on"
                            },
                            {
                              "entity": "input_select.motion_log_level",
                              "state_not": "off"
                            }
                          ],
                          "row": {
                            "name": "Specify",
                            "entity": "input_text.motion_primary"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_person_configure",
                              "state": "on"
                            },
                            {
                              "entity": "input_boolean.motion_lovelace_support_primary_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "name": "Select",
                            "entity": "input_select.motion_primary"
                          }
                        },
                        {
                          "name": "Primary's device",
                          "entity": "sensor.motion_primary_device",
                          "tap_action": {
                            "action": "call-service",
                            "service": "input_boolean.toggle",
                            "service_data": {
                              "entity_id": "input_boolean.motion_lovelace_support_primary_device_detail"
                            }
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_primary_device_tracker",
                              "state": "on"
                            },
                            {
                              "entity": "input_boolean.motion_lovelace_support_primary_device_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "entity": "binary_sensor.motion_primary_device_tracker",
                            "name": "Tracker",
                            "icon": "mdi:satellite",
                            "type": "attribute",
                            "attribute": "detail",
                            "secondary_info": "last-updated"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "input_boolean.motion_lovelace_support_primary_device_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "name": "Specify",
                            "entity": "input_text.motion_primary_device"
                          }
                        },
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.motion_person_configure",
                              "state": "on"
                            },
                            {
                              "entity": "input_boolean.motion_lovelace_support_primary_device_detail",
                              "state": "on"
                            }
                          ],
                          "row": {
                            "name": "Select",
                            "entity": "input_select.motion_primary_device"
                          }
                        }
                      ]
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_primary",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "markdown",
                        "title": "",
                        "entity_id": "binary_sensor.motion_primary_device",
                        "content": "{{ state_attr(\"binary_sensor.motion_primary_device\",\"markdown\") }}"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.uptimerobot_feed",
                  "state_not": "unknown"
                }
              ],
              "card": {
                "type": "vertical-stack",
                "title": "",
                "cards": [
                  {
                    "show_header_toggle": false,
                    "title": "Internet",
                    "type": "entities",
                    "entities": [
                      {
                        "name": "Status",
                        "entity": "sensor.internet_good",
                        "secondary_info": "last-updated",
                        "tap_action": {
                          "action": "call-service",
                          "service": "homeassistant.update_entity",
                          "target": {
                            "entity_id": "sensor.internet_test"
                          },
                          "confirmation": {
                            "text": "Update Internet test?",
                            "exemptions": null
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.uptimerobot",
                            "state": "off"
                          }
                        ],
                        "row": {
                          "name": "Last on-line",
                          "entity": "binary_sensor.uptimerobot_feed",
                          "type": "attribute",
                          "attribute": "online",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.uptimerobot_feed_update"
                            },
                            "confirmation": {
                              "text": "Update the monitor?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.uptimerobot_feed",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "name": "Last off-line",
                          "entity": "binary_sensor.uptimerobot_feed",
                          "type": "attribute",
                          "attribute": "offline"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.uptimerobot_feed",
                            "state_not": "off"
                          }
                        ],
                        "row": {
                          "name": "NabuCasa monitor",
                          "entity": "binary_sensor.uptimerobot_nabucasa",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.uptimerobot_feed_update"
                            },
                            "confirmation": {
                              "text": "Update the monitor?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "sensor.uptimerobot_online_percent",
                            "state_not": "null"
                          }
                        ],
                        "row": {
                          "name": "Remote monitoring",
                          "entity": "sensor.uptimerobot_online_percent",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.uptimerobot_feed_update"
                            },
                            "confirmation": {
                              "text": "Update the monitor?",
                              "exemptions": null
                            }
                          }
                        }
                      }
                    ]
                  },
                  {
                    "type": "conditional",
                    "conditions": [
                      {
                        "entity": "binary_sensor.uptimerobot_feed",
                        "state_not": "on"
                      },
                      {
                        "entity": "binary_sensor.uptimerobot_nabucasa",
                        "state_not": "on"
                      },
                      {
                        "entity": "binary_sensor.uptimerobot_feed",
                        "state_not": "unknown"
                      },
                      {
                        "entity": "binary_sensor.uptimerobot_nabucasa",
                        "state_not": "unknown"
                      }
                    ],
                    "card": {
                      "type": "vertical-stack",
                      "title": "",
                      "cards": [
                        {
                          "type": "conditional",
                          "conditions": [
                            {
                              "entity": "binary_sensor.uptimerobot_feed",
                              "state": "off"
                            }
                          ],
                          "card": {
                            "type": "entities",
                            "title": "Monitor off-line",
                            "show_header_toggle": false,
                            "entities": [
                              {
                                "name": "Last on-line",
                                "icon": "mdi:clock",
                                "entity": "binary_sensor.uptimerobot",
                                "type": "attribute",
                                "attribute": "relative"
                              },
                              {
                                "type": "section",
                                "label": "Feed URL"
                              },
                              {
                                "name": "RSS feed from uptimerobot.com",
                                "entity": "input_text.uptimerobot_feed_rssurl"
                              }
                            ]
                          }
                        },
                        {
                          "type": "button",
                          "name": "Update",
                          "icon": "mdi:tray-arrow-down",
                          "icon_height": "32px",
                          "tap_action": {
                            "action": "call-service",
                            "service": "homeassistant.update_entity",
                            "target": {
                              "entity_id": "sensor.uptimerobot_feed"
                            },
                            "confirmation": {
                              "text": "Update the UptimeRobot monitor?",
                              "exemptions": null
                            }
                          }
                        }
                      ]
                    }
                  }
                ]
              },
              "view_layout": {
                "position": "sidebar"
              }
            },
            {
              "type": "vertical-stack",
              "view_layout": {
                "position": "main"
              },
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state_not": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state_not": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_home_undefined",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "title": "Home",
                    "type": "map",
                    "auto_fit": true,
                    "entities": [
                      {
                        "entity": "zone.home"
                      }
                    ],
                    "hours_to_show": 0,
                    "default_zoom": 19
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state_not": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_home_undefined",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "title": "Home & Smartphone",
                    "type": "map",
                    "auto_fit": true,
                    "entities": [
                      {
                        "entity": "zone.home"
                      },
                      {
                        "entity": "binary_sensor.motion_person_device"
                      }
                    ],
                    "hours_to_show": 0,
                    "default_zoom": 19
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state_not": "on"
                    },
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state_not": "off"
                    },
                    {
                      "entity": "binary_sensor.motion_home_undefined",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "title": "Home & What3Words",
                    "type": "map",
                    "auto_fit": true,
                    "entities": [
                      {
                        "entity": "zone.home"
                      },
                      {
                        "entity": "binary_sensor.what3words_location"
                      }
                    ],
                    "hours_to_show": 0,
                    "default_zoom": 19
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state_not": "off"
                    },
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state_not": "off"
                    },
                    {
                      "entity": "binary_sensor.motion_home_undefined",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "title": "Home, Smartphone & What3Words",
                    "type": "map",
                    "auto_fit": true,
                    "entities": [
                      {
                        "entity": "zone.home"
                      },
                      {
                        "entity": "binary_sensor.motion_person_device"
                      },
                      {
                        "entity": "binary_sensor.what3words_location"
                      }
                    ],
                    "hours_to_show": 0,
                    "default_zoom": 19
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.what3words_location",
                      "state_not": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_person_device",
                      "state_not": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_home_undefined",
                      "state_not": "off"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Location pending",
                    "entities": [
                      {
                        "name": "Zone home",
                        "secondary_info": "last-updated",
                        "entity": "zone.home"
                      },
                      {
                        "name": "Home undefined",
                        "secondary_info": "last-updated",
                        "entity": "binary_sensor.motion_home_undefined"
                      },
                      {
                        "name": "Smartphone",
                        "secondary_info": "last-updated",
                        "entity": "binary_sensor.motion_person_device"
                      },
                      {
                        "name": "What3Words",
                        "secondary_info": "last-updated",
                        "entity": "binary_sensor.what3words_location"
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  }
}
