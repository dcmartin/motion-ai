{
  "visible": [],
  "title": "TITLE",
  "path": "<deviceclass>",
  "icon": "mdi:cancel",
  "type": "sidebar",
  "badges": [],
  "cards": [
    {
      "type": "horizontal-stack",
      "view_layout": {
        "position": "sidebar"
      },
      "cards": [
        {
          "type": "button",
          "name": "",
          "icon": "mdi:view-dashboard",
          "icon_height": "32px",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/"
          }
        },
        {
          "type": "button",
          "name": " ",
          "icon": "mdi:message",
          "show_state": false,
          "entity": "binary_sensor.motion_alarm",
          "icon_height": "32px",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/lovelace-primary"
          }
        },
        {
          "type": "button",
          "name": "",
          "icon": "mdi:devices",
          "icon_height": "32px",
          "tap_action": {
            "action": "navigate",
            "navigation_path": "/notify-devices"
          }
        },
        {
          "type": "button",
          "name": "",
          "icon": "mdi:reload",
          "icon_height": "32px",
          "tap_action": {
            "action": "call-service",
            "service": "automation.trigger",
            "target": {
              "entity_id": "automation.motion_device_<deviceclass>_rescan"
            },
            "confirmation": {
              "text": "Scan for <deviceclass>?",
              "exemptions": null
            }
          }
        }
      ]
    },
    {
      "type": "conditional",
      "conditions": [
        {
          "entity": "binary_sensor.motion_device_<deviceclass>_exist",
          "state_not": "unknown"
        }
      ],
      "card": {
        "type": "markdown",
        "title": "",
        "entity_id": "binary_sensor.motion_device_<deviceclass>_exist",
        "content": "{{ state_attr(\"binary_sensor.motion_device_<deviceclass>_exist\",\"markdown\") }}"
      }
    },
    {
      "type": "vertical-stack",
      "title": "",
      "cards": [
        {
          "type": "entities",
          "title": "Alarms",
          "show_header_toggle": false,
          "entities": [
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.motion_device_<deviceclass>_low",
                  "state": "on"
                }
              ],
              "row": {
                "entity": "binary_sensor.motion_device_<deviceclass>_low",
                "name": "Below limit",
                "secondary_info": "last-updated",
                "icon": "mdi:speedometer-slow",
                "type": "attribute",
                "attribute": "details",
                "tap_action": {
                  "action": "call-service",
                  "service": "automation.trigger",
                  "target": {
                    "entity_id": "automation.motion_device_<deviceclass>_low_notify"
                  }
                }
              }
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.motion_device_<deviceclass>_high",
                  "state": "on"
                }
              ],
              "row": {
                "entity": "binary_sensor.motion_device_<deviceclass>_high",
                "name": "Above limit",
                "secondary_info": "last-updated",
                "icon": "mdi:speedometer",
                "type": "attribute",
                "attribute": "details",
                "tap_action": {
                  "action": "call-service",
                  "service": "automation.trigger",
                  "target": {
                    "entity_id": "automation.motion_device_<deviceclass>_high_notify"
                  }
                }
              }
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.motion_device_<deviceclass>_good",
                  "state": "on"
                }
              ],
              "row": {
                "entity": "binary_sensor.motion_device_<deviceclass>_good",
                "name": "Good",
                "secondary_info": "last-updated",
                "icon": "mdi:thumb-up",
                "type": "attribute",
                "attribute": "details",
                "tap_action": {
                  "action": "call-service",
                  "service": "automation.trigger",
                  "target": {
                    "entity_id": "automation.motion_device_<deviceclass>_good_notify"
                  }
                }
              }
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.motion_device_<deviceclass>_bad",
                  "state": "on"
                }
              ],
              "row": {
                "entity": "binary_sensor.motion_device_<deviceclass>_bad",
                "name": "Bad",
                "secondary_info": "last-updated",
                "icon": "mdi:alert",
                "type": "attribute",
                "attribute": "details",
                "tap_action": {
                  "action": "call-service",
                  "service": "automation.trigger",
                  "target": {
                    "entity_id": "automation.motion_device_<deviceclass>_bad_notify"
                  }
                }
              }
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.motion_device_<deviceclass>_activity",
                  "state": "on"
                }
              ],
              "row": {
                "entity": "binary_sensor.motion_device_<deviceclass>_activity",
                "name": "Activity",
                "secondary_info": "last-updated",
                "icon": "mdi:motion-sensor",
                "type": "attribute",
                "attribute": "details",
                "tap_action": {
                  "action": "call-service",
                  "service": "automation.trigger",
                  "target": {
                    "entity_id": "automation.motion_device_<deviceclass>_activity_notify"
                  }
                }
              }
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.motion_device_<deviceclass>_unavailable",
                  "state": "on"
                }
              ],
              "row": {
                "entity": "binary_sensor.motion_device_<deviceclass>_unavailable",
                "name": "Unavailable",
                "secondary_info": "last-updated",
                "icon": "mdi:home-minus",
                "type": "attribute",
                "attribute": "details",
                "tap_action": {
                  "action": "call-service",
                  "service": "automation.trigger",
                  "target": {
                    "entity_id": "automation.motion_device_<deviceclass>_unavailable_notify"
                  }
                }
              }
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.motion_device_<deviceclass>_missing",
                  "state": "on"
                }
              ],
              "row": {
                "entity": "binary_sensor.motion_device_<deviceclass>_missing",
                "name": "Missing",
                "secondary_info": "last-updated",
                "icon": "mdi:cancel",
                "type": "attribute",
                "attribute": "details",
                "tap_action": {
                  "action": "call-service",
                  "service": "automation.trigger",
                  "target": {
                    "entity_id": "automation.motion_device_<deviceclass>_missing_notify"
                  }
                }
              }
            }
          ]
        }
      ]
    },
    {
      "type": "conditional",
      "conditions": [
        {
          "entity": "binary_sensor.motion_device_<deviceclass>_exist",
          "state_not": "unknown"
        }
      ],
      "card": {
        "type": "vertical-stack",
        "title": "",
        "cards": [
          {
            "type": "conditional",
            "conditions": [
              {
                "entity": "binary_sensor.motion_device_<deviceclass>_status",
                "state_not": "unknown"
              }
            ],
            "card": {
              "type": "vertical-stack",
              "cards": [
                {
                  "title": "",
                  "type": "entities",
                  "entities": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_<deviceclass>",
                          "state_not": "unknown"
                        },
                        {
                          "entity": "binary_sensor.motion_device_<deviceclass>_bad",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "entity": "binary_sensor.motion_device_<deviceclass>",
                        "secondary_info": "last-updated"
                      }
                    },
                    {
                      "entity": "binary_sensor.motion_device_<deviceclass>",
                      "name": "Total",
                      "type": "attribute",
                      "icon": "mdi:counter",
                      "attribute": "total",
                      "tap_action": {
                        "action": "call-service",
                        "service": "automation.trigger",
                        "target": {
                          "entity_id": "automation.motion_device_<deviceclass>_rescan"
                        },
                        "confirmation": {
                          "text": "Rescan for <deviceclass> sensors?"
                        }
                      }
                    },
                    {
                      "entity": "binary_sensor.motion_device_<deviceclass>_exist",
                      "name": "Required",
                      "type": "attribute",
                      "icon": "mdi:check",
                      "attribute": "required",
                      "tap_action": {
                        "action": "call-service",
                        "service": "automation.trigger",
                        "target": {
                          "entity_id": "automation.motion_device_<deviceclass>_required_on"
                        }
                      },
                      "hold_action": {
                        "action": "call-service",
                        "service": "automation.trigger",
                        "target": {
                          "entity_id": "automation.motion_device_<deviceclass>_required_off"
                        },
                        "confirmation": {
                          "text": "Turn OFF requirement for <deviceclass> sensors?"
                        }
                      }
                    },
                    {
                      "entity": "binary_sensor.motion_device_<deviceclass>_exist",
                      "name": "Alarm",
                      "type": "attribute",
                      "icon": "mdi:alarm",
                      "attribute": "alarm",
                      "tap_action": {
                        "action": "call-service",
                        "service": "automation.trigger",
                        "target": {
                          "entity_id": "automation.motion_device_<deviceclass>_alarm_on"
                        }
                      },
                      "hold_action": {
                        "action": "call-service",
                        "service": "automation.trigger",
                        "target": {
                          "entity_id": "automation.motion_device_<deviceclass>_alarm_off"
                        },
                        "confirmation": {
                          "text": "Turn OFF <deviceclass> alarms?"
                        }
                      }
                    },
                    {
                      "entity": "binary_sensor.motion_device_<deviceclass>",
                      "name": "Devices",
                      "icon": "mdi:devices",
                      "type": "attribute",
                      "attribute": "ids"
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_<deviceclass>_unavailable",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "entity": "binary_sensor.motion_device_<deviceclass>_unavailable",
                        "name": "Unavailable",
                        "icon": "mdi:network-off",
                        "type": "attribute",
                        "attribute": "details"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_<deviceclass>_bad",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "entity": "binary_sensor.motion_device_<deviceclass>_bad",
                        "name": "Detected",
                        "type": "attribute",
                        "attribute": "details"
                      }
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "conditional",
            "conditions": [
              {
                "entity": "binary_sensor.motion_device_<deviceclass>_measurement",
                "state": "on"
              }
            ],
            "card": {
              "type": "vertical-stack",
              "cards": [
                {
                  "title": "",
                  "type": "entities",
                  "entities": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_device_<deviceclass>",
                          "state_not": "none"
                        }
                      ],
                      "row": {
                        "secondary_info": "last-updated",
                        "entity": "sensor.motion_device_<deviceclass>"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_<deviceclass>_low",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "entity": "binary_sensor.motion_device_<deviceclass>_low",
                        "name": "Below limit",
                        "icon": "mdi:alert-minus",
                        "type": "attribute",
                        "attribute": "details"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_<deviceclass>_high",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "entity": "binary_sensor.motion_device_<deviceclass>_high",
                        "name": "Above limit",
                        "icon": "mdi:alert-plus",
                        "type": "attribute",
                        "attribute": "details"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_device_<deviceclass>",
                          "state_not": "none"
                        }
                      ],
                      "row": {
                        "entity": "sensor.motion_device_<deviceclass>",
                        "name": "Minimum",
                        "type": "attribute",
                        "attribute": "min"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_device_<deviceclass>",
                          "state_not": "none"
                        }
                      ],
                      "row": {
                        "entity": "sensor.motion_device_<deviceclass>",
                        "name": "Maximum",
                        "type": "attribute",
                        "attribute": "max"
                      }
                    },
                    {
                      "entity": "input_number.motion_device_<deviceclass>_low",
                      "name": "Low <deviceclass>"
                    },
                    {
                      "entity": "input_number.motion_device_<deviceclass>_high",
                      "name": "High <deviceclass>"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "horizontal-stack",
            "cards": [
              {
                "type": "conditional",
                "conditions": [
                  {
                    "entity": "binary_sensor.motion_device_<deviceclass>_toggle",
                    "state": "on"
                  }
                ],
                "card": {
                  "type": "button",
                  "name": "Toggle",
                  "icon": "mdi:toggle-switch",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.motion_device_<deviceclass>_toggle"
                    }
                  }
                }
              },
              {
                "type": "conditional",
                "conditions": [
                  {
                    "entity": "binary_sensor.motion_device_<deviceclass>_turn_off",
                    "state": "on"
                  }
                ],
                "card": {
                  "type": "button",
                  "name": "Off",
                  "icon": "mdi:light-switch-off",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.motion_device_<deviceclass>_turn_off"
                    }
                  }
                }
              },
              {
                "type": "conditional",
                "conditions": [
                  {
                    "entity": "binary_sensor.motion_device_<deviceclass>_turn_on",
                    "state": "on"
                  }
                ],
                "card": {
                  "type": "button",
                  "name": "On",
                  "icon": "mdi:light-switch",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.motion_device_<deviceclass>_turn_on"
                    }
                  }
                }
              },
              {
                "type": "conditional",
                "conditions": [
                  {
                    "entity": "binary_sensor.motion_device_<deviceclass>_self_test",
                    "state": "on"
                  }
                ],
                "card": {
                  "type": "button",
                  "name": "Self test",
                  "icon": "mdi:progress-check",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.motion_device_<deviceclass>_self_test"
                    }
                  }
                }
              },
              {
                "type": "conditional",
                "conditions": [
                  {
                    "entity": "binary_sensor.motion_device_<deviceclass>_mute",
                    "state": "on"
                  }
                ],
                "card": {
                  "type": "button",
                  "name": "Mute",
                  "icon": "mdi:volume-off",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.motion_device_<deviceclass>_mute"
                    }
                  }
                }
              },
              {
                "type": "conditional",
                "conditions": [
                  {
                    "entity": "binary_sensor.motion_device_<deviceclass>_unmute",
                    "state": "on"
                  }
                ],
                "card": {
                  "type": "button",
                  "name": "Unmute",
                  "icon": "mdi:volume-high",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.motion_device_<deviceclass>_unmute"
                    }
                  }
                }
              },
              {
                "type": "conditional",
                "conditions": [
                  {
                    "entity": "binary_sensor.motion_device_<deviceclass>_update",
                    "state": "on"
                  }
                ],
                "card": {
                  "type": "button",
                  "name": "Update",
                  "icon": "mdi:update",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.motion_device_<deviceclass>_update"
                    }
                  }
                }
              },
              {
                "type": "conditional",
                "conditions": [
                  {
                    "entity": "binary_sensor.motion_device_<deviceclass>_restart",
                    "state": "on"
                  }
                ],
                "card": {
                  "type": "button",
                  "name": "Restart",
                  "icon": "mdi:restart",
                  "icon_height": "32px",
                  "tap_action": {
                    "action": "call-service",
                    "service": "automation.trigger",
                    "target": {
                      "entity_id": "automation.motion_device_<deviceclass>_restart"
                    }
                  }
                }
              }
            ]
          }
        ]
      },
      "view_layout": {
        "position": "sidebar"
      }
    },
    {
      "type": "conditional",
      "conditions": [
        {
          "entity": "binary_sensor.motion_device_<deviceclass>_exist",
          "state": "off"
        },
        {
          "entity": "binary_sensor.motion_device_<deviceclass>_required",
          "state": "on"
        }
      ],
      "card": {
        "type": "vertical-stack",
        "cards": [
          {
            "title": "Required <deviceclass> missing",
            "type": "glance",
            "entities": []
          },
          {
            "type": "button",
            "name": "Rescan",
            "icon": "mdi:redo",
            "icon_height": "32px",
            "tap_action": {
              "action": "call-service",
              "service": "automation.trigger",
              "target": {
                "entity_id": "automation.motion_device_<deviceclass>_rescan"
              }
            }
          }
        ]
      },
      "view_layout": {
        "position": "sidebar"
      }
    }
  ]
}
