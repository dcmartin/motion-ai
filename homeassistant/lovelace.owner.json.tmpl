{
  "version": 1,
  "minor_version": 1,
  "key": "lovelace",
  "data": {
    "config": {
      "icon": "mdi:home",
      "title": "${MOTION_APP} (${HOST_NAME})",
      "views": [
        {
          "title": "SUPPORT",
          "path": "support",
          "icon": "mdi:help-circle-outline",
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "title": "Notifications",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_restarting",
                      "state": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "System restarting",
                    "entity_id": "binary_sensor.motion_restarting",
                    "content": "{{ state_attr(\"binary_sensor.motion_restarting\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "System rebooting",
                    "entity_id": "binary_sensor.motion_rebooting",
                    "content": "{{ state_attr(\"binary_sensor.motion_rebooting\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_alarm",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "title": "",
                        "show_header_toggle": false,
                        "type": "entities",
                        "entities": [
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_bad",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_bad",
                              "secondary_info": "last-updated",
                              "name": "Detected (bad)",
                              "icon": "mdi:alert",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_bad_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_good",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_good",
                              "secondary_info": "last-updated",
                              "name": "Detected (good)",
                              "icon": "mdi:alert-outline",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_good_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_high",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_high",
                              "secondary_info": "last-updated",
                              "name": "Above limit",
                              "icon": "mdi:thermometer-alert",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_high_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_low",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_low",
                              "secondary_info": "last-updated",
                              "name": "Below limit",
                              "icon": "mdi:snowflake-alert",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_low_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_missing",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_missing",
                              "secondary_info": "last-updated",
                              "name": "Missing device(s)",
                              "icon": "mdi:alert-minus-outline",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_missing_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_unavailable",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_unavailable",
                              "secondary_info": "last-updated",
                              "name": "Unavailable device(s)",
                              "icon": "mdi:alert-minus",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_unavailable_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_found",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_found",
                              "secondary_info": "last-updated",
                              "name": "Found device(s)",
                              "icon": "mdi:devices",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_found_notify"
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_alarm_activity",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_alarm_activity",
                              "secondary_info": "last-updated",
                              "name": "Device(s) w/ activity",
                              "icon": "mdi:motion-sensor",
                              "type": "attribute",
                              "attribute": "count",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_activity_notify"
                                }
                              }
                            }
                          }
                        ]
                      },
                      {
                        "type": "markdown",
                        "title": "",
                        "entity_id": "sensor.motion_alarm_count",
                        "content": "{{ state_attr(\"sensor.motion_alarm_count\",\"markdown\") }}"
                      },
                      {
                        "type": "button",
                        "name": "Dismiss alarm",
                        "icon": "mdi:bell-sleep",
                        "icon_height": "32px",
                        "tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "service_data": {
                            "entity_id": "automation.motion_alarm_notification_dismiss"
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_alarm",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Alarms",
                    "entities": [
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_unavailable",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_unavailable",
                          "name": "Unavailable",
                          "icon": "mdi:alert-minus",
                          "type": "attribute",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_unavailable_notify"
                            }
                          },
                          "hold_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_rescan_all"
                            },
                            "confirmation": {
                              "text": "Do you want to rescan all?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_class_missing",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_class_missing",
                          "name": "Missing",
                          "icon": "mdi:alert-minus-outline",
                          "type": "attribute",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_missing_notify"
                            }
                          },
                          "hold_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_class_rescan_all"
                            },
                            "confirmation": {
                              "text": "Do you want to rescan all?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_gas_bad",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_gas_bad",
                          "name": "Detected",
                          "icon": "mdi:gas-burner",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_gas_bad_notify"
                            }
                          },
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_moisture_bad",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_moisture_bad",
                          "name": "Detected",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_moisture_bad_notify"
                            }
                          },
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_battery_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_battery_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "icon": "mdi:battery-20",
                          "type": "attribute",
                          "attribute": "details",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_battery_low_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_illuminance_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_illuminance_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_illuminance_low_notify"
                            }
                          },
                          "icon": "mdi:brightness-5",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_illuminance_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_illuminance_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_illuminance_high_notify"
                            }
                          },
                          "icon": "mdi:brightness-7",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_temperature_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_temperature_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_temperature_low_notify"
                            }
                          },
                          "icon": "mdi:thermometer-low",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_temperature_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_temperature_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_temperature_high_notify"
                            }
                          },
                          "icon": "mdi:thermometer-high",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_humidity_low",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_humidity_low",
                          "name": "Below limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_humidity_low_notify"
                            }
                          },
                          "icon": "mdi:water-minus",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_humidity_high",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_humidity_high",
                          "name": "Above limit",
                          "secondary_info": "last-updated",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_humidity_high_notify"
                            }
                          },
                          "icon": "mdi:water-plus",
                          "type": "attribute",
                          "attribute": "details"
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_device_class",
                      "state": "on"
                    },
                    {
                      "entity": "binary_sensor.motion_device_class_activity",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "title": "Activity",
                    "type": "entities",
                    "entities": [
                      {
                        "entity": "binary_sensor.motion_device_class_activity",
                        "name": "Device(s)",
                        "icon": "mdi:devices",
                        "type": "attribute",
                        "secondary_info": "last-updated",
                        "attribute": "ids",
                        "tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "target": {
                            "entity_id": "automation.motion_device_class_activity_notify"
                          }
                        }
                      },
                      {
                        "entity": "binary_sensor.motion_device_class_activity",
                        "name": "Details",
                        "icon": "mdi:clipboard-text",
                        "type": "attribute",
                        "secondary_info": "last-updated",
                        "attribute": "details"
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_motion_activity",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_motion_activity",
                          "name": "Motion",
                          "icon": "mdi:motion-sensor",
                          "secondary_info": "last-updated",
                          "type": "attribute",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_motion_activity_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_opening_activity",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_opening_activity",
                          "name": "Opening",
                          "icon": "mdi:door",
                          "secondary_info": "last-updated",
                          "type": "attribute",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_opening_activity_notify"
                            }
                          }
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_device_vibration_activity",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "binary_sensor.motion_device_vibration_activity",
                          "name": "Vibration",
                          "icon": "mdi:vibrate",
                          "type": "attribute",
                          "secondary_info": "last-updated",
                          "attribute": "ids",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_device_vibration_activity_notify"
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              ]
            },
            {
              "type": "vertical-stack",
              "icon": "mdi:account",
              "title": "Person",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "Pending"
                    },
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "null"
                    },
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "none"
                    }
                  ],
                  "card": {
                    "type": "horizontal-stack",
                    "cards": [
                      {
                        "type": "entities",
                        "show_icon": true,
                        "show_name": true,
                        "title": "",
                        "entities": [
                          {
                            "name": "Person",
                            "entity": "sensor.motion_person",
                            "type": "attribute",
                            "attribute": "name",
                            "tap_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace-owner/person"
                            },
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/config/person"
                            }
                          },
                          {
                            "name": "Device",
                            "entity": "sensor.motion_person_device",
                            "hold_action": {
                              "action": "navigate",
                              "navigation_path": "/lovelace-primary/smartphone"
                            }
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person",
                      "state": "unknown"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Pending",
                    "entities": []
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_person_configure",
                      "state": "on"
                    },
                    {
                      "entity": "sensor.motion_person_device_status",
                      "state": "Pending"
                    },
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "Pending"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Smartphone configuration required",
                    "entities": [
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_person_configure",
                            "state": "on"
                          },
                          {
                            "entity": "sensor.motion_person_status",
                            "state_not": "Pending"
                          }
                        ],
                        "row": {
                          "entity": "input_select.motion_person_device",
                          "name": "Select smartphone"
                        }
                      }
                    ]
                  }
                }
              ]
            },
            {
              "type": "vertical-stack",
              "title": "Home",
              "icon": "mdi:home-assistant",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "title": "",
                            "type": "entities",
                            "entities": [
                              {
                                "entity": "sensor.motion_uptime",
                                "type": "attribute",
                                "attribute": "relative",
                                "icon": "mdi:clock-outline",
                                "tap_action": {
                                  "action": "navigate",
                                  "navigation_path": "/lovelace-owner/home"
                                }
                              },
                              {
                                "entity": "sensor.motion_device_class_activity_ago",
                                "name": "Last activity",
                                "type": "attribute",
                                "attribute": "relative",
                                "icon": "mdi:account-clock-outline",
                                "hold_action": {
                                  "action": "navigate",
                                  "navigation_path": "/lovelace-primary/activity"
                                }
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "update.age_home_update",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "update.age_home_update",
                                  "name": "Age@Home update available",
                                  "icon": "mdi:home-heart",
                                  "type": "attribute",
                                  "attribute": "latest_version"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "off"
                        }
                      ],
                      "card": {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "title": "Scanning for devices",
                            "type": "entities",
                            "entities": [
                              {
                                "name": "Discovery complete",
                                "icon": "mdi:devices",
                                "entity": "binary_sensor.motion_device_class",
                                "secondary_info": "last-updated",
                                "tap_action": {
                                  "action": "navigate",
                                  "navigation_path": "/lovelace-owner/home"
                                }
                              },
                              {
                                "name": "Last scan",
                                "entity": "sensor.motion_device_class_rescan",
                                "type": "attribute",
                                "attribute": "relative",
                                "hold_action": {
                                  "action": "call-service",
                                  "service": "automation.trigger",
                                  "target": {
                                    "entity_id": "automation.motion_device_class_rescan_all"
                                  },
                                  "confirmation": {
                                    "text": "Do you want to rescan all?",
                                    "exemptions": null
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "unknown"
                        }
                      ],
                      "card": {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "title": "Pending",
                            "type": "entities",
                            "entities": []
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "Person",
          "path": "person",
          "icon": "mdi:account",
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "title": "👱 Person",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "Pending"
                    },
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "null"
                    },
                    {
                      "entity": "sensor.motion_person",
                      "state_not": "none"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "show_icon": true,
                    "show_name": true,
                    "title": "",
                    "entities": [
                      {
                        "name": "Person",
                        "entity": "sensor.motion_person",
                        "type": "attribute",
                        "attribute": "name"
                      },
                      {
                        "name": "Status",
                        "entity": "sensor.motion_person_active_status",
                        "secondary_info": "last-updated"
                      },
                      {
                        "name": "Ago",
                        "entity": "sensor.motion_person_active_ago_status"
                      },
                      {
                        "name": "Person details",
                        "entity": "input_boolean.motion_lovelace_support_person_detail"
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "input_boolean.motion_lovelace_support_person_detail",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "entities",
                        "show_icon": true,
                        "show_name": true,
                        "title": "",
                        "entities": [
                          {
                            "name": "Where",
                            "secondary_info": "last-updated",
                            "entity": "sensor.motion_person_active_where"
                          },
                          {
                            "name": "Active",
                            "icon": "mdi:tune-vertical",
                            "secondary_info": "last-updated",
                            "entity": "binary_sensor.motion_person_active"
                          },
                          {
                            "name": "Smartphone",
                            "icon": "mdi:cellphone",
                            "secondary_info": "last-updated",
                            "entity": "binary_sensor.motion_person_smartphone"
                          },
                          {
                            "name": "Occupancy",
                            "icon": "mdi:motion-sensor",
                            "secondary_info": "last-updated",
                            "entity": "binary_sensor.motion_person_occupancy"
                          },
                          {
                            "name": "Detected",
                            "icon": "mdi:cctv",
                            "secondary_info": "last-updated",
                            "entity": "binary_sensor.motion_person_detected"
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_person_device_tracker",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_person_device_tracker",
                              "name": "Tracker",
                              "icon": "mdi:satellite",
                              "type": "attribute",
                              "attribute": "detail",
                              "secondary_info": "last-updated"
                            }
                          }
                        ]
                      },
                      {
                        "type": "map",
                        "entities": [
                          {
                            "entity": "sensor.motion_person"
                          }
                        ],
                        "hours_to_show": 0,
                        "default_zoom": 18
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person",
                      "state": "unknown"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Pending",
                    "entities": []
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person",
                      "state": "Pending"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Configuration required",
                    "entities": [
                      {
                        "name": "Ready to configure",
                        "entity": "binary_sensor.motion_person_configure"
                      },
                      {
                        "name": "Currently selected person",
                        "entity": "sensor.motion_person"
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_person_configure",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "input_select.motion_person",
                          "name": "Select person"
                        }
                      }
                    ]
                  }
                }
              ]
            },
            {
              "type": "vertical-stack",
              "title": "📱 Smartphone",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "Pending"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "unknown"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "null"
                    },
                    {
                      "entity": "sensor.motion_person_device",
                      "state_not": "none"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "show_icon": true,
                    "show_name": true,
                    "title": "",
                    "entities": [
                      {
                        "name": "Device",
                        "entity": "sensor.motion_person_device"
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "sensor.motion_person_device_status",
                            "state_not": "away"
                          }
                        ],
                        "row": {
                          "name": "Status",
                          "icon": "mdi:home",
                          "entity": "sensor.motion_person_device_status",
                          "secondary_info": "last-updated"
                        }
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "sensor.motion_person_device_status",
                            "state_not": "home"
                          }
                        ],
                        "row": {
                          "name": "Away",
                          "icon": "mdi:home-outline",
                          "entity": "sensor.motion_person_device_geocoded_location",
                          "secondary_info": "last-updated"
                        }
                      },
                      {
                        "name": "Ago",
                        "entity": "sensor.motion_person_device_ago_relative"
                      },
                      {
                        "name": "Smartphone details",
                        "entity": "input_boolean.motion_lovelace_support_smartphone_detail"
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "input_boolean.motion_lovelace_support_smartphone_detail",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "type": "entities",
                            "show_icon": true,
                            "show_name": true,
                            "title": "",
                            "entities": [
                              {
                                "name": "Activity",
                                "entity": "sensor.motion_person_device_activity",
                                "secondary_info": "last-updated"
                              },
                              {
                                "name": "Steps",
                                "entity": "sensor.motion_person_steps",
                                "secondary_info": "last-updated"
                              },
                              {
                                "name": "Floors",
                                "entity": "sensor.motion_person_floors",
                                "secondary_info": "last-updated"
                              },
                              {
                                "name": "Do not disturb",
                                "entity": "sensor.motion_person_device_focus",
                                "secondary_info": "last-updated"
                              },
                              {
                                "name": "Network",
                                "entity": "sensor.motion_person_device_connection_type"
                              },
                              {
                                "name": "Battery",
                                "entity": "sensor.motion_person_device_battery"
                              },
                              {
                                "name": "Storage",
                                "entity": "sensor.motion_person_device_storage"
                              },
                              "sensor.motion_person_device_ssid",
                              "sensor.motion_person_device_bssid",
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "binary_sensor.motion_person_device_tracker",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "binary_sensor.motion_person_device",
                                  "name": "Tracker",
                                  "type": "attribute",
                                  "attribute": "tracker",
                                  "icon": "mdi:satellite",
                                  "secondary_info": "last-updated"
                                }
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "map",
                        "entities": [
                          {
                            "entity": "sensor.motion_person_device"
                          }
                        ],
                        "hours_to_show": 0,
                        "default_zoom": 18
                      }
                    ]
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person_device",
                      "state": "unknown"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Pending",
                    "entities": []
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "sensor.motion_person_device",
                      "state": "Pending"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Configuration required",
                    "entities": [
                      {
                        "name": "Ready to configure",
                        "entity": "binary_sensor.motion_person_configure"
                      },
                      {
                        "name": "Currently selected person",
                        "entity": "sensor.motion_person"
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_person_configure",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "entity": "input_select.motion_person",
                          "name": "Select person"
                        }
                      }
                    ]
                  }
                },
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_person_device_status",
                          "state": "Pending"
                        }
                      ],
                      "card": {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "type": "entities",
                            "title": "Smartphone configuration required",
                            "entities": [
                              {
                                "name": "Current person",
                                "icon": "mdi:account",
                                "entity": "sensor.motion_person"
                              },
                              {
                                "name": "Current device",
                                "icon": "mdi:cellphone",
                                "entity": "sensor.motion_person_device"
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "binary_sensor.motion_person_configure",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "name": "Select smartphone",
                                  "icon": "mdi:devices",
                                  "entity": "input_select.motion_person_device"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_person_device",
                          "state": "unknown"
                        }
                      ],
                      "card": {
                        "type": "entities",
                        "title": "Smartphone pending",
                        "entities": []
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "Home",
          "path": "home",
          "icon": "mdi:home-assistant",
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "title": "🏠 Home",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "title": "",
                        "show_header_toggle": false,
                        "type": "entities",
                        "entities": [
                          {
                            "entity": "binary_sensor.motion_device_class",
                            "name": "Total home devices",
                            "secondary_info": "last-updated",
                            "type": "attribute",
                            "icon": "mdi:counter",
                            "attribute": "total",
                            "tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "target": {
                                "entity_id": "automation.motion_device_class_rescan_all"
                              },
                              "confirmation": {
                                "text": "Do you want to rescan all?",
                                "exemptions": null
                              }
                            }
                          },
                          {
                            "name": "Detail",
                            "entity": "input_boolean.motion_lovelace_support_home_detail",
                            "tap_action": {
                              "action": "toggle"
                            }
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "type": "markdown",
                            "title": "",
                            "entity_id": "binary_sensor.motion_device_class",
                            "content": "{{ state_attr(\"binary_sensor.motion_device_class\",\"markdown\") }}"
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class_rescan",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "title": "Scan in progress",
                        "type": "entities",
                        "entities": [
                          {
                            "entity": "binary_sensor.motion_device_class_status",
                            "name": "Status",
                            "icon": "mdi:devices"
                          },
                          {
                            "entity": "binary_sensor.motion_device_class_measurement",
                            "name": "Measurement",
                            "icon": "mdi:ruler-square-compass"
                          },
                          {
                            "entity": "binary_sensor.motion_device_class_statistics",
                            "name": "Statistics",
                            "icon": "mdi:chart-box"
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "on"
                        },
                        {
                          "entity": "binary_sensor.motion_device_class_missing",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "type": "markdown",
                            "title": "",
                            "entity_id": "binary_sensor.motion_device_class_missing",
                            "content": "{{ state_attr(\"binary_sensor.motion_device_class_missing\",\"markdown\") }}"
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "on"
                        },
                        {
                          "entity": "binary_sensor.motion_device_class_unavailable",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "type": "markdown",
                            "title": "",
                            "entity_id": "binary_sensor.motion_device_class_unavailable",
                            "content": "{{ state_attr(\"binary_sensor.motion_device_class_unavailable\",\"markdown\") }}"
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "off"
                        }
                      ],
                      "card": {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_device_class_recan",
                                "state_not": "off"
                              },
                              {
                                "entity": "binary_sensor.motion_device_class_recan",
                                "state_not": "on"
                              }
                            ],
                            "card": {
                              "title": "Waiting on devices",
                              "type": "entities",
                              "entities": [
                                {
                                  "name": "Last scan",
                                  "entity": "sensor.motion_device_class_rescan",
                                  "type": "attribute",
                                  "attribute": "relative",
                                  "secondary_info": "last-updated",
                                  "tap_action": {
                                    "action": "call-service",
                                    "service": "automation.trigger",
                                    "target": {
                                      "entity_id": "automation.motion_device_class_rescan_all"
                                    },
                                    "confirmation": {
                                      "text": "Do you want to rescan all?",
                                      "exemptions": null
                                    }
                                  }
                                },
                                {
                                  "entity": "binary_sensor.motion_device_class_status",
                                  "name": "Status",
                                  "icon": "mdi:devices"
                                },
                                {
                                  "entity": "binary_sensor.motion_device_class_measurement",
                                  "name": "Measurement",
                                  "icon": "mdi:ruler-square-compass"
                                },
                                {
                                  "entity": "binary_sensor.motion_device_class_statistics",
                                  "name": "Statistics",
                                  "icon": "mdi:chart-box"
                                }
                              ]
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_device_class_recan",
                                "state": "off"
                              }
                            ],
                            "card": {
                              "type": "button",
                              "name": "Start scan",
                              "icon": "mdi:redo",
                              "icon_height": "32px",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_rescan_all"
                                },
                                "confirmation": {
                                  "text": "Do you want to rescan all?",
                                  "exemptions": null
                                }
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_device_class_recan",
                                "state": "on"
                              }
                            ],
                            "card": {
                              "type": "button",
                              "name": "Restart scan",
                              "icon": "mdi:redo",
                              "icon_height": "32px",
                              "tap_action": {
                                "action": "call-service",
                                "service": "automation.trigger",
                                "target": {
                                  "entity_id": "automation.motion_device_class_rescan_all"
                                },
                                "confirmation": {
                                  "text": "Do you want to rescan all?",
                                  "exemptions": null
                                }
                              }
                            }
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_device_class",
                          "state": "unknown"
                        }
                      ],
                      "card": {
                        "type": "horizontal-stack",
                        "cards": [
                          {
                            "title": "Home pending",
                            "type": "glance",
                            "entities": []
                          }
                        ]
                      }
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "input_boolean.motion_lovelace_support_home_detail",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "vertical-stack",
                    "cards": [
                      {
                        "type": "entities",
                        "title": "",
                        "show_header_toggle": false,
                        "entities": [
                          {
                            "name": "Last scan",
                            "entity": "sensor.motion_device_class_rescan",
                            "type": "attribute",
                            "attribute": "relative",
                            "tap_action": {
                              "action": "call-service",
                              "service": "automation.trigger",
                              "target": {
                                "entity_id": "automation.motion_device_class_rescan_all"
                              },
                              "confirmation": {
                                "text": "Do you want to rescan all?",
                                "exemptions": null
                              }
                            }
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "binary_sensor.motion_device_mobile_exist",
                                "state": "on"
                              }
                            ],
                            "row": {
                              "entity": "binary_sensor.motion_device_class",
                              "name": "Mobile device(s)",
                              "secondary_info": "last-updated",
                              "icon": "mdi:cellphone",
                              "type": "attribute",
                              "attribute": "mobiles"
                            }
                          },
                          {
                            "name": "Device(s)",
                            "entity": "binary_sensor.motion_device_class",
                            "icon": "mdi:devices",
                            "type": "attribute",
                            "attribute": "ids"
                          },
                          {
                            "entity": "input_boolean.motion_lovelace_support_scan_detail",
                            "name": "Scan detail"
                          }
                        ]
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "input_boolean.motion_lovelace_support_home_detail",
                            "state": "on"
                          },
                          {
                            "entity": "input_boolean.motion_lovelace_support_scan_detail",
                            "state": "on"
                          }
                        ],
                        "card": {
                          "type": "vertical-stack",
                          "cards": [
                            {
                              "type": "entities",
                              "title": "Scan detail",
                              "show_header_toggle": false,
                              "entities": [
                                {
                                  "entity": "binary_sensor.motion_device_class",
                                  "name": "Status",
                                  "type": "attribute",
                                  "icon": "mdi:devices",
                                  "attribute": "status"
                                },
                                {
                                  "entity": "binary_sensor.motion_device_class",
                                  "name": "Measurement",
                                  "icon": "mdi:ruler-square-compass",
                                  "type": "attribute",
                                  "attribute": "measurement"
                                },
                                {
                                  "entity": "binary_sensor.motion_device_class",
                                  "name": "Statistics",
                                  "icon": "mdi:chart-box",
                                  "type": "attribute",
                                  "attribute": "statistics"
                                },
                                {
                                  "entity": "binary_sensor.motion_device_class_status",
                                  "name": "Status",
                                  "type": "attribute",
                                  "attribute": "status"
                                },
                                {
                                  "entity": "binary_sensor.motion_device_class_measurement",
                                  "name": "Measurement",
                                  "type": "attribute",
                                  "attribute": "status"
                                },
                                {
                                  "entity": "binary_sensor.motion_device_class_statistics",
                                  "name": "Statistics",
                                  "type": "attribute",
                                  "attribute": "status"
                                }
                              ]
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            },
            {
              "type": "vertical-stack",
              "title": "🙋 People",
              "cards": [
                {
                  "type": "vertical-stack",
                  "title": "",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_domain_person_status",
                          "state_not": "unknown"
                        }
                      ],
                      "card": {
                        "type": "vertical-stack",
                        "title": "",
                        "cards": [
                          {
                            "type": "markdown",
                            "title": "",
                            "entity_id": "sensor.motion_domain_person_status",
                            "content": "{{ state_attr(\"sensor.motion_domain_person_status\",\"markdown\") }}"
                          },
                          {
                            "type": "entities",
                            "title": "",
                            "show_header_toggle": false,
                            "entities": [
                              {
                                "name": "People",
                                "entity": "sensor.motion_domain_person_status",
                                "secondary_info": "last-updated",
                                "icon": "mdi:account-check"
                              },
                              {
                                "name": "Active",
                                "entity": "sensor.motion_domain_person_status",
                                "icon": "mdi:account-clock",
                                "type": "attribute",
                                "attribute": "active"
                              },
                              {
                                "name": "On-line",
                                "entity": "sensor.motion_domain_person_status",
                                "icon": "mdi:account-group",
                                "type": "attribute",
                                "attribute": "online"
                              },
                              {
                                "name": "Off-line",
                                "entity": "sensor.motion_domain_person_status",
                                "icon": "mdi:account-group-outline",
                                "type": "attribute",
                                "attribute": "offline"
                              }
                            ]
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_domain_person_status",
                          "state": "unknown"
                        }
                      ],
                      "card": {
                        "type": "entities",
                        "title": "Pending",
                        "entities": []
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "vertical-stack",
              "title": "👼 Hub",
              "cards": [
                {
                  "type": "vertical-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_name",
                          "state_not": "unknown"
                        }
                      ],
                      "card": {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "title": "",
                            "type": "entities",
                            "show_icon": true,
                            "show_name": true,
                            "state_color": true,
                            "entities": [
                              {
                                "name": "Name",
                                "entity": "sensor.motion_name"
                              },
                              {
                                "entity": "sensor.motion_uptime",
                                "icon": "mdi:clock-outline",
                                "type": "attribute",
                                "attribute": "relative"
                              },
                              {
                                "entity": "sensor.internet_good",
                                "secondary_info": "last-updated"
                              },
                              {
                                "name": "Load 5m",
                                "icon": "mdi:numeric-5-box",
                                "entity": "sensor.load_5m"
                              },
                              {
                                "name": "Storage used",
                                "entity": "sensor.disk_use_percent"
                              },
                              {
                                "name": "Memory free",
                                "icon": "mdi:memory",
                                "entity": "sensor.memory_free"
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "binary_sensor.motion_power_status",
                                    "state_not": "unknown"
                                  }
                                ],
                                "row": {
                                  "name": "Power supply",
                                  "entity": "binary_sensor.motion_power_status"
                                }
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "update.home_assistant_supervisor_update",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "update.home_assistant_supervisor_update",
                                  "name": "Supervisor update available",
                                  "icon": "mdi:home-assistant",
                                  "type": "attribute",
                                  "attribute": "latest_version"
                                }
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "update.age_home_update",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "update.age_home_update",
                                  "name": "Age@Home update available",
                                  "icon": "mdi:home-heart",
                                  "type": "attribute",
                                  "attribute": "latest_version"
                                }
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "update.home_assistant_core_update",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "update.home_assistant_core_update",
                                  "name": "Core update available",
                                  "icon": "mdi:home-assistant",
                                  "type": "attribute",
                                  "attribute": "latest_version"
                                }
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "update.motion_classic_update",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "update.motion_classic_update",
                                  "name": "Motion Ã👁 update available",
                                  "icon": "mdi:eye",
                                  "type": "attribute",
                                  "attribute": "latest_version"
                                }
                              },
                              {
                                "name": "Detail",
                                "entity": "input_boolean.motion_lovelace_support_hub_detail",
                                "tap_action": {
                                  "action": "toggle"
                                }
                              }
                            ]
                          },
                          {
                            "type": "conditional",
                            "conditions": [
                              {
                                "entity": "input_boolean.motion_lovelace_support_hub_detail",
                                "state": "on"
                              }
                            ],
                            "card": {
                              "type": "vertical-stack",
                              "cards": [
                                {
                                  "show_header_toggle": false,
                                  "title": "",
                                  "type": "entities",
                                  "entities": [
                                    {
                                      "name": "URL",
                                      "icon": "mdi:web",
                                      "entity": "sensor.motion_base_url"
                                    },
                                    {
                                      "name": "Last boot",
                                      "entity": "sensor.last_boot"
                                    },
                                    {
                                      "name": "Uptime μ (s)",
                                      "entity": "sensor.uptime_ago_mean"
                                    },
                                    {
                                      "name": "Internet receive average",
                                      "entity": "sensor.internet_receive_mean"
                                    },
                                    {
                                      "name": "Internet send average",
                                      "entity": "sensor.internet_send_mean"
                                    }
                                  ]
                                },
                                {
                                  "type": "vertical-stack",
                                  "title": "",
                                  "cards": [
                                    {
                                      "type": "entities",
                                      "show_header_toggle": false,
                                      "entities": [
                                        "sensor.motion_domain_device_tracker_status",
                                        "sensor.motion_domain_light_status",
                                        "sensor.motion_domain_switch_status",
                                        "sensor.motion_domain_media_player_status",
                                        "sensor.motion_domain_camera_status",
                                        "sensor.motion_domain_automation_status"
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "title": "",
                                  "type": "vertical-stack",
                                  "cards": [
                                    {
                                      "type": "map",
                                      "entities": [
                                        {
                                          "entity": "zone.home"
                                        }
                                      ],
                                      "hours_to_show": 0,
                                      "default_zoom": 18
                                    },
                                    {
                                      "type": "horizontal-stack",
                                      "cards": [
                                        {
                                          "type": "glance",
                                          "entities": [
                                            {
                                              "name": "Latitude",
                                              "entity": "sensor.zone_home_latitude"
                                            },
                                            {
                                              "name": "Longitude",
                                              "entity": "sensor.zone_home_longitude"
                                            },
                                            {
                                              "name": "Radius",
                                              "entity": "sensor.zone_home_radius"
                                            }
                                          ]
                                        },
                                        {
                                          "type": "button",
                                          "name": "Change",
                                          "show_state": false,
                                          "entity": "zone.home",
                                          "icon": "mdi:map-marker",
                                          "icon_height": "32px",
                                          "tap_action": {
                                            "action": "navigate",
                                            "navigation_path": "/config/zone/home?edit=1"
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          }
                        ]
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "sensor.motion_name",
                          "state": "unknown"
                        }
                      ],
                      "card": {
                        "title": "Hub pending",
                        "type": "glance",
                        "entities": []
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_notification",
                          "state": "on"
                        }
                      ],
                      "card": {
                        "type": "vertical-stack",
                        "cards": [
                          {
                            "title": "",
                            "show_header_toggle": false,
                            "type": "entities",
                            "entities": [
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "binary_sensor.motion_notification_critical",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "binary_sensor.motion_notification_critical",
                                  "secondary_info": "last-updated",
                                  "name": "Critical notifications",
                                  "icon": "mdi:alarm-light",
                                  "type": "attribute",
                                  "attribute": "count"
                                }
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "binary_sensor.motion_notification_alert",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "binary_sensor.motion_notification_alert",
                                  "secondary_info": "last-updated",
                                  "name": "Alerts",
                                  "icon": "mdi:alert",
                                  "type": "attribute",
                                  "attribute": "count"
                                }
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "binary_sensor.motion_notification_notice",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "binary_sensor.motion_notification_notice",
                                  "secondary_info": "last-updated",
                                  "name": "Notices",
                                  "icon": "mdi:alert-box",
                                  "type": "attribute",
                                  "attribute": "count"
                                }
                              },
                              {
                                "type": "conditional",
                                "conditions": [
                                  {
                                    "entity": "binary_sensor.motion_notification_info",
                                    "state": "on"
                                  }
                                ],
                                "row": {
                                  "entity": "binary_sensor.motion_notification_info",
                                  "secondary_info": "last-updated",
                                  "name": "Informational",
                                  "icon": "mdi:comment-alert",
                                  "type": "attribute",
                                  "attribute": "count"
                                }
                              }
                            ]
                          },
                          {
                            "type": "markdown",
                            "title": "",
                            "entity_id": "sensor.motion_notification_count",
                            "content": "{{ state_attr(\"sensor.motion_notification_count\",\"message\") }}"
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "Settings",
          "path": "settings",
          "icon": "mdi:cog",
          "badges": [],
          "cards": [
            {
              "type": "vertical-stack",
              "title": "",
              "cards": [
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_addon_installed",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "show_header_toggle": false,
                    "type": "entities",
                    "title": "",
                    "entities": [
                      {
                        "name": "Add-on",
                        "entity": "binary_sensor.motion_addon_update",
                        "icon": "mdi:apps",
                        "type": "attribute",
                        "attribute": "title"
                      },
                      {
                        "name": "Version",
                        "entity": "binary_sensor.motion_addon_update",
                        "icon": "mdi:play-protected-content",
                        "type": "attribute",
                        "attribute": "version"
                      },
                      {
                        "name": "Started",
                        "entity": "binary_sensor.motion_addon_status",
                        "icon": "mdi:restart",
                        "type": "attribute",
                        "suffix": "ago",
                        "attribute": "relative"
                      },
                      {
                        "type": "conditional",
                        "conditions": [
                          {
                            "entity": "binary_sensor.motion_addon_update",
                            "state": "on"
                          }
                        ],
                        "row": {
                          "name": "Update",
                          "entity": "binary_sensor.motion_addon_update",
                          "icon": "mdi:download",
                          "type": "attribute",
                          "attribute": "latest",
                          "tap_action": {
                            "action": "call-service",
                            "service": "automation.trigger",
                            "target": {
                              "entity_id": "automation.motion_addon_update"
                            },
                            "confirmation": {
                              "text": "Update the ${MOTION_APP} add-on?",
                              "exemptions": null
                            }
                          }
                        }
                      },
                      {
                        "name": "Last check",
                        "entity": "sensor.motion_reload_updates",
                        "icon": "mdi:cloud-refresh",
                        "suffix": "ago",
                        "type": "attribute",
                        "attribute": "relative"
                      }
                    ]
                  }
                },
                {
                  "show_header_toggle": false,
                  "type": "entities",
                  "title": "",
                  "entities": [
                    {
                      "name": "Reload required",
                      "entity": "binary_sensor.motion_reload"
                    },
                    {
                      "type": "section",
                      "label": "Status"
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_reload_enabled",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "name": "Auto-update",
                        "entity": "binary_sensor.motion_reload_enabled",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_boolean.turn_off",
                          "target": {
                            "entity_id": "input_boolean.motion_reload"
                          },
                          "confirmation": {
                            "text": "Turn OFF automatic updates",
                            "exemptions": null
                          }
                        }
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_reload_enabled",
                          "state": "off"
                        }
                      ],
                      "row": {
                        "name": "Auto-update",
                        "entity": "binary_sensor.motion_reload_enabled",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_boolean.turn_on",
                          "target": {
                            "entity_id": "input_boolean.motion_reload"
                          }
                        }
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "input_boolean.motion_reload",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "name": "Restarting",
                        "entity": "binary_sensor.motion_restarting"
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "input_boolean.motion_reload",
                          "state": "on"
                        }
                      ],
                      "row": {
                        "name": "Reloaded",
                        "entity": "binary_sensor.motion_reloaded"
                      }
                    }
                  ]
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_restarting",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "System restarting",
                    "entity_id": "binary_sensor.motion_restarting",
                    "content": "{{ state_attr(\"binary_sensor.motion_restarting\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_rebooting",
                      "state": "on"
                    }
                  ],
                  "card": {
                    "type": "markdown",
                    "title": "System rebooting",
                    "entity_id": "binary_sensor.motion_rebooting",
                    "content": "{{ state_attr(\"binary_sensor.motion_rebooting\",\"markdown\") }}"
                  }
                },
                {
                  "type": "conditional",
                  "conditions": [
                    {
                      "entity": "binary_sensor.motion_addon_installed",
                      "state_not": "on"
                    }
                  ],
                  "card": {
                    "type": "entities",
                    "title": "Add-on pending",
                    "entities": []
                  }
                },
                {
                  "type": "horizontal-stack",
                  "cards": [
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_addon_update",
                          "state": "on"
                        },
                        {
                          "entity": "binary_sensor.motion_restarting",
                          "state": "off"
                        }
                      ],
                      "card": {
                        "type": "button",
                        "name": "Update",
                        "icon": "mdi:update",
                        "icon_height": "32px",
                        "tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "target": {
                            "entity_id": "automation.motion_addon_update"
                          },
                          "confirmation": {
                            "text": "Update the ${MOTION_APP} add-on?",
                            "exemptions": null
                          }
                        }
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_addon_installed",
                          "state": "on"
                        },
                        {
                          "entity": "binary_sensor.motion_restarting",
                          "state": "off"
                        },
                        {
                          "entity": "binary_sensor.motion_rebooting",
                          "state": "off"
                        }
                      ],
                      "card": {
                        "type": "button",
                        "name": "Refresh",
                        "icon": "mdi:refresh",
                        "icon_height": "32px",
                        "tap_action": {
                          "action": "call-service",
                          "service": "automation.trigger",
                          "target": {
                            "entity_id": "automation.motion_addon_restart"
                          },
                          "confirmation": {
                            "text": "Restart the ${MOTION_APP} add-on?",
                            "exemptions": null
                          }
                        }
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_addon_reload",
                          "state": "on"
                        },
                        {
                          "entity": "binary_sensor.motion_restarting",
                          "state": "off"
                        },
                        {
                          "entity": "binary_sensor.motion_rebooting",
                          "state": "off"
                        }
                      ],
                      "card": {
                        "type": "button",
                        "name": "Reload",
                        "icon": "mdi:reload-alert",
                        "icon_height": "32px",
                        "tap_action": {
                          "action": "call-service",
                          "service": "homeassistant.reload_core_config",
                          "confirmation": {
                            "text": "Add-on refreshed; reload ${MOTION_APP} configuration?",
                            "exemptions": null
                          }
                        }
                      }
                    },
                    {
                      "type": "conditional",
                      "conditions": [
                        {
                          "entity": "binary_sensor.motion_restarting",
                          "state": "off"
                        }
                      ],
                      "card": {
                        "type": "button",
                        "name": "Restart",
                        "icon": "hass:restart",
                        "icon_height": "32px",
                        "show_state": true,
                        "entity": "binary_sensor.motion_restarting",
                        "tap_action": {
                          "action": "call-service",
                          "service": "input_boolean.turn_on",
                          "target": {
                            "entity_id": "input_boolean.motion_restart"
                          },
                          "confirmation": {
                            "text": "Confirm restart ${MOTION_APP}?",
                            "exemptions": null
                          }
                        }
                      }
                    },
                    {
                      "type": "button",
                      "name": "Reboot",
                      "icon": "mdi:power",
                      "icon_height": "32px",
                      "show_state": true,
                      "entity": "binary_sensor.motion_rebooting",
                      "tap_action": {
                        "action": "call-service",
                        "service": "input_boolean.turn_on",
                        "target": {
                          "entity_id": "input_boolean.motion_reboot"
                        },
                        "confirmation": {
                          "text": "Confirm hub reboot?",
                          "exemptions": null
                        }
                      }
                    }
                  ]
                }
              ]
            },
            {
              "show_header_toggle": false,
              "title": "",
              "type": "entities",
              "entities": [
                {
                  "name": "Name",
                  "entity": "input_text.motion_app"
                },
                {
                  "name": "Log level",
                  "entity": "sensor.motion_log_level",
                  "tap_action": {
                    "action": "call-service",
                    "service": "input_select.select_next",
                    "data": {
                      "cycle": false
                    },
                    "target": {
                      "entity_id": "input_select.motion_log_level"
                    }
                  },
                  "hold_action": {
                    "action": "call-service",
                    "service": "input_select.select_option",
                    "data": {
                      "option": "debug"
                    },
                    "target": {
                      "entity_id": "input_select.motion_log_level"
                    }
                  }
                },
                {
                  "type": "section",
                  "label": "Internet"
                },
                {
                  "name": "Warning level",
                  "entity": "input_number.internet_deviation"
                },
                {
                  "type": "section",
                  "label": "What3Words"
                },
                {
                  "name": "Active",
                  "icon": "mdi:map-marker",
                  "entity": "binary_sensor.motion_w3w_location",
                  "hold_action": {
                    "action": "call-service",
                    "service": "homeassistant.update_entity",
                    "target": {
                      "entity_id": "sensor.motion_w3w_location_rest"
                    }
                  }
                },
                {
                  "name": "Words",
                  "entity": "input_text.motion_w3w_location"
                },
                {
                  "name": "APIKEY",
                  "entity": "input_text.motion_w3w_apikey"
                }
              ]
            },
            {
              "type": "conditional",
              "conditions": [
                {
                  "entity": "binary_sensor.motion_person_configure",
                  "state": "on"
                }
              ],
              "card": {
                "type": "entities",
                "title": "",
                "entities": [
                  {
                    "name": "Current person",
                    "icon": "mdi:account",
                    "entity": "sensor.motion_person"
                  },
                  {
                    "name": "Current device",
                    "icon": "mdi:cellphone",
                    "entity": "sensor.motion_person_device"
                  },
                  {
                    "name": "Change person",
                    "icon": "mdi:account-outline",
                    "entity": "input_select.motion_person"
                  },
                  {
                    "name": "Change device",
                    "icon": "mdi:devices",
                    "entity": "input_select.motion_person_device"
                  }
                ]
              }
            },
            {
              "type": "statistics-graph",
              "title": "Alarms",
              "chart_type": "line",
              "entities": [
                {
                  "name": "Bad",
                  "entity": "sensor.motion_alarm_measurement_bad"
                },
                {
                  "name": "Good",
                  "entity": "sensor.motion_alarm_measurement_good"
                },
                {
                  "name": "High",
                  "entity": "sensor.motion_alarm_measurement_high"
                },
                {
                  "name": "Low",
                  "entity": "sensor.motion_alarm_measurement_low"
                },
                {
                  "name": "Unavailable",
                  "entity": "sensor.motion_alarm_measurement_unavailable"
                },
                {
                  "name": "Missing",
                  "entity": "sensor.motion_alarm_measurement_missing"
                },
                {
                  "name": "Found",
                  "entity": "sensor.motion_alarm_measurement_found"
                },
                {
                  "name": "Activity",
                  "entity": "sensor.motion_alarm_measurement_activity"
                }
              ],
              "days_to_show": 7,
              "stat_types": [
                "mean",
                "min",
                "max"
              ]
            }
          ]
        }
      ]
    }
  }
}
